import{a as e,i as t,A as o,S as n,R as a}from"./assets/vendor-EE8R5gjl.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s={listOfCategories:document.querySelector(".js-categories-list"),booksPerPage:document.querySelector("js-books-per-page"),bookCard:document.querySelector(".js-books-list"),showMoreBtn:document.querySelector(".js-show-more-btn"),pageEl:document.querySelector(".js-books-per-page"),accBtn:document.querySelector(".js-accordion-btn"),accContent:document.querySelector(".js-accordion-content")};async function i(t){return(await e.get(t)).data}function r(e){const t=e.map(({book_image:e,price:t,title:o,author:n,description:a,rank:s,_id:i})=>`\n      <li class="book-card js-book-card">\n        <img\n          src='${e}'\n          alt="${o}"\n          class="book-card-image"\n        />\n        <div class="book-description">\n          <div class="book-details">\n            <div class="book-info">\n              <p class="book-title">${o}</p>\n              <p class="book-autor">${n}</p>\n            </div>\n            <p class="book-price">$${t}</p>\n          </div>\n          <button class="book-info-btn js-book-info-btn" data-id=${i} >Learn More</button>\n        </div>\n      </li>\n      `).join("");s.bookCard.insertAdjacentHTML("beforeend",t)}e.defaults.baseURL="https://books-backend.p.goit.global/";const l=s.showMoreBtn.classList,c=()=>l.add("is-hidden"),d=window.innerWidth;function u(e,o="error"){t[o]({message:e,position:d<768?"center":"topRight",maxWidth:d<432?300:400})}const m=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{const e=1.5*window.innerHeight;window.scrollY>e?m.classList.add("show"):m.classList.remove("show")}),m.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const p=new o(".modal-books-accordion-container",{duration:400,showMultiple:!0}),v={modal:document.querySelector(".modal-books"),backdrop:document.querySelector(".modal-books-backdrop"),input:document.querySelector(".quantity-selector-quantity-input"),modalBooksTextWrapper:document.querySelector(".modal-books-text-wrapper"),bookPhotoWrapper:document.querySelector(".modal-book-photo-wrapper"),accordionDetails:document.querySelector(".js-ac-text-details")},h=e=>{const t=e.target,o=t.dataset.action;if("add-to-cart"===o){const e=parseInt(v.input.value)||1,t={productId:"Books",quantity:e};return localStorage.setItem("cart-item",JSON.stringify(t)),void u(`Книгу додано у кошик: ${e} шт.`,"success")}if("buy-now"===o)return u("Дякуємо за покупку","success"),void localStorage.removeItem("cart-item");t.classList.contains("quantity-selector-decrease")?y(-1):t.classList.contains("quantity-selector-increase")?y(1):t!==v.backdrop?t.closest(".modal-books-button")&&g():g()};v.backdrop.addEventListener("click",h);const b=e=>{"Escape"===e.key&&v.backdrop.classList.contains("show-modal")&&g()},g=()=>{v.backdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",b),v.backdrop.removeEventListener("click",h),v.input.removeEventListener("input",f),v.input.removeEventListener("blur",k)},y=e=>{const t=parseInt(v.input.value)||1,o=Math.max(1,Math.min(10,t+e));v.input.value=o},f=e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")},k=e=>{const t=parseInt(e.target.value)||1;e.target.value=Math.max(1,Math.min(10,t))};const w=document.querySelector(".js-accordion-btn"),L=document.querySelector(".js-accordion-content"),x=s.accBtn.querySelector(".books-acc-icon"),E="books/top-books/";let S=[],q=[],M=1,j=null,B=10,C=null,T=null,I=null;function N(){const e=window.innerWidth;B=e<768?10:24}function $(e){return A(e.flatMap(({books:e})=>e))}function A(e){const o=new Set,n=e.filter(e=>!o.has(e.title)&&(o.add(e.title),!0));if(0!==n.length)return n;t.warning({message:"No books available to display.",position:"topRight"})}function _(e){c(),0===S.length&&(S=e,C=S.length,j=Math.ceil((S.length-B)/4)+1,j<1&&(j=1));let o=null,n=null;if(j>M?(1===M?(o=(M-1)*B,n=o+B):(o=T,n=o+4),q=S.slice(o,n)):(o=T,n=S.length,q=S.slice(o,n),S=[]),T+=q.length,s.pageEl.textContent=`Showing ${T} of ${C}`,0===S.length)return M>1&&t.info({message:"Sorry, you have viewed all the books in this category.",position:"topRight"}),O(),r(q),q=[],M=1,j=null,C=null,void(T=null);1===M&&(s.bookCard.innerHTML=""),T!=B&&O(),r(q),M++,l.remove("is-hidden")}function O(){const e=document.querySelectorAll(".js-book-card");if(0===e.length)return;const t=e[e.length-1].getBoundingClientRect(),o=t.top+t.height+window.scrollY;window.scrollTo({top:o,behavior:"smooth"})}c(),window.addEventListener("resize",()=>{const e=B;N(),B!==e&&S.length>0&&(M=1,q=[],T=null,_(S))});w.addEventListener("click",()=>{L.classList.toggle("open"),x.classList.toggle("rotate")}),document.addEventListener("click",e=>{!(L.contains(e.target)||w.contains(e.target))&&L.classList.contains("open")&&(L.classList.remove("open"),x.classList.remove("rotate"))}),s.showMoreBtn.addEventListener("click",()=>{_()}),s.listOfCategories.addEventListener("click",async t=>{const o=t.target.closest(".js-category-item");if(!o)return;let n=null;if(I=o.textContent.trim(),"All categories"===I){n=$(await i(E))}else{n=A(await async function(t,o){const n={params:{category:o}};return(await e.get(t,n)).data}("books/category/",I))}M=1,j=null,S=[],q=[],C=null,T=null,s.bookCard.innerHTML="",L.classList.remove("open"),x.classList.remove("rotate"),_(n)}),s.bookCard.addEventListener("click",async function(e){const t=e.target.closest(".js-book-info-btn");if(!t)return;const o=t.dataset.id;if(!o)return;const n=`books/${o}`;try{!function({book_image:e,title:t,description:o,price:n,author:a}){const s=`\n    <img\n            src="${e||"https://placehold.co/309x466/png?text=No+image"}"\n            alt="${t||"Без назви"}" \n            class="modal-books-img"\n          />\n  `;v.bookPhotoWrapper.innerHTML=s;const i=`\n            <h2 class="modal-books-title">${t||"Без назви"}</h2>\n            <p class="modal-books-text">${a||"Невідомий автор"}</p>\n            <p class="modal-books-price">${n?n+"$":"Ціна не вказана"}</p>\n         `;v.modalBooksTextWrapper.innerHTML=i,v.accordionDetails.textContent=o||"No description"}(await i(n)),v.input.value="1",p.closeAll(),v.backdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),document.addEventListener("keydown",b),v.backdrop.addEventListener("click",h),v.input.addEventListener("input",f),v.input.addEventListener("blur",k)}catch(a){console.error("Ошибка загрузки книги по ID:",a.message)}}),async function(){try{!function(e){const t=e.map(({list_name:e})=>`\n      <li class="category-item js-category-item">\n        ${e}\n      </li>\n      `).join("");s.listOfCategories.insertAdjacentHTML("beforeend",t)}(await i("books/category-list/"));const e=await i(E);if(!e||!e.length)return void t.warning({message:"Sorry, there are currently no books in this category. Please contact us later.",position:"topRight"});const o=$(e);N(),_(o)}catch(e){console.error("Ошибка при инициализации страницы:",e.message)}}(),new n(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},a11y:{enabled:!0,slideRole:""},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}});const D=[{text:"Great selection, fast delivery, and beautifully packaged books.\nMy go-to store for weekend reads!",author:"Jane Doe",position:"Book Lover, Reader",avatar1x:"/development-hell-02/assets/jane_doe.BMQ-xRsd.jpg",avatar2x:"/development-hell-02/assets/jane_doe@2x.zcSlIbLy.jpg",rating:4.8,subscription:"gold"},{text:"This bookstore has become my absolute favorite! The rare editions section alone is worth the visit, and the staff always go above and beyond to recommend the perfect titles based on my interests.\nI love how they support local authors and host engaging events each month.",author:"John Smith",position:"Editor, BookMag",avatar1x:"/development-hell-02/assets/john_smith.Ci_0vTWv.jpg",avatar2x:"/development-hell-02/assets/john_smith@2x.DDsTXLv-.jpg",rating:4.6,subscription:null},{text:"I was pleasantly surprised by the personalized touches in my last order—from the hand-written note tucked inside the package to the custom bookmark.\nThe whole experience felt crafted just for me, and I can’t wait to shop again!",author:"Emily Johnson",position:"Author, Novelist",avatar1x:"/development-hell-02/assets/emily_johnson.Cbkcq2d1.jpg",avatar2x:"/development-hell-02/assets/emily_johnson@2x.Cvl5ztO_.jpg",rating:4.9,subscription:"gold"},{text:"As a literature professor, I’m endlessly impressed by the depth of their catalog.\nThey carry everything from contemporary bestsellers to obscure academic volumes, and their recommendation engine never fails to introduce me to new gems.",author:"Sofia Lee",position:"Literature Professor",avatar1x:"/development-hell-02/assets/sofia_lee.CX_hethO.jpg",avatar2x:"/development-hell-02/assets/sofia_lee@2x.Cgr7awEi.jpg",rating:4.7,subscription:null},{text:"I’ve discovered so many hidden gems thanks to this store.\nThe reviews really help me find niche titles I wouldn’t have found anywhere else!",author:"Carlos Mendez",position:"Blogger",avatar1x:"/development-hell-02/assets/carlos_mendez.BSK00tr3.jpg",avatar2x:"/development-hell-02/assets/carlos_mendez@2x.DbLWKenR.jpg",rating:4.5,subscription:"silver"},{text:"As a parent, I appreciate the kid-friendly book sections.\nMy son can’t get enough of the colorful picture books and board books we order each month!",author:"Natalie Brooks",position:"Mother & Teacher",avatar1x:"/development-hell-02/assets/natalie_brooks.D_79rjIz.jpg",avatar2x:"/development-hell-02/assets/natalie_brooks@2x.D4AXXMhn.jpg",rating:4.6,subscription:null},{text:"The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.\nThe seasonal reading lists they publish are also a great way to branch out beyond my usual genres.",author:"David Nguyen",position:"Graphic Designer",avatar1x:"/development-hell-02/assets/david_nguyen.hOS68mGQ.jpg",avatar2x:"/development-hell-02/assets/david_nguyen@2x.CyEuSXY5.jpg",rating:4.7,subscription:null},{text:"Fast shipping and top-notch service, with timely updates throughout delivery.\nI’ll definitely be back for more, especially during holiday sales!",author:"Aisha Patel",position:"Marketing Specialist",avatar1x:"/development-hell-02/assets/aisha_patel.BOQJ_tzB.jpg",avatar2x:"/development-hell-02/assets/aisha_patel@2x.D26z7UBM.jpg",rating:4.8,subscription:"gold"},{text:"Their children’s book selection is unbeatable.\nMy daughter devours every story and can’t wait for the next delivery!",author:"Michael Thompson",position:"Pediatric Nurse",avatar1x:"/development-hell-02/assets/michael_thompson.BYZwjKIc.jpg",avatar2x:"/development-hell-02/assets/michael_thompson@2x.E4zL0xlX.jpg",rating:4.5,subscription:"silver"}];let P;function R(){const e=window.matchMedia("(min-width: 768px) and (max-width: 1439px)"),t=window.matchMedia("(min-width: 1440px)");document.querySelectorAll(".feedback-card").forEach(o=>{const n=o.querySelector(".feedback-text-wrapper"),a=n.querySelector(".feedback-text"),s=a.querySelector(".text-content"),i=o.querySelector(".feedback-overlay"),r=i.querySelector(".overlay-text");let l,c=!1;function d(){var e;if(c)return;c=!0,null==(e=P.autoplay)||e.stop(),P.allowTouchMove=!1,i.setAttribute("aria-hidden","false"),i.style.display="block";const t=s.textContent,n=function(e,t){const o=e.cloneNode();Object.assign(o.style,{visibility:"hidden",position:"absolute",top:"0",left:"0",height:"auto",webkitLineClamp:"unset",display:"block",overflow:"visible"}),e.parentNode.appendChild(o);let n=0,a=t.length;const s=e.clientHeight;for(;n<a;){const e=Math.ceil((n+a)/2);o.textContent=t.slice(0,e),o.scrollHeight<=s?n=e:a=e-1}return o.remove(),n}(a,t),d=a.cloneNode();Object.assign(d.style,{visibility:"hidden",position:"absolute",top:"0",left:"0",height:"auto",webkitLineClamp:"unset",display:"block",overflow:"visible"}),d.textContent=t.slice(0,n);const u=document.createElement("span");u.className="text-marker",d.appendChild(u),a.parentNode.appendChild(d);const m=o.getBoundingClientRect(),p=u.getBoundingClientRect();i.style.setProperty("--text-top",p.top-m.top+"px"),i.style.setProperty("--text-left",p.left-m.left+"px"),d.remove();const v=t.slice(0,n),h=t.slice(n);r.textContent=v,r.style.display="inline-block",r.style.whiteSpace="pre-wrap",r.style.wordBreak="break-word";let b=0;!function e(){b<h.length&&(r.textContent+=h[b++],l=setTimeout(e,25))}();const g=25*h.length+2e3;setTimeout(()=>{var e;P.allowTouchMove=!0,null==(e=P.autoplay)||e.start()},g)}function u(e=!1){var t;clearTimeout(l),i.setAttribute("aria-hidden","true"),i.style.display="none",P.allowTouchMove=!0,null==(t=P.autoplay)||t.start(),e&&(c=!1)}function m(){s.removeEventListener("click",p),s.removeEventListener("focusin",v),s.removeEventListener("blur",v),s.addEventListener("click",()=>{c?u(!0):d()}),document.addEventListener("click",e=>{c&&!n.contains(e.target)&&u(!0)})}function p(){s.removeEventListener("click",m),s.removeEventListener("focusin",v),s.removeEventListener("blur",v),s.addEventListener("click",d),document.addEventListener("click",e=>{c&&!n.contains(e.target)&&u(!0)})}function v(){s.removeEventListener("click",m),s.removeEventListener("click",p),o.setAttribute("tabindex","0"),o.addEventListener("focusin",d),o.addEventListener("focusout",e=>{o.contains(e.relatedTarget)||u(!0)}),o.addEventListener("mouseenter",d),o.addEventListener("mouseleave",()=>u(!0))}function h(){u(!0),t.matches?v():e.matches?p():m()}a.scrollHeight<=a.clientHeight?n.classList.add("full-text"):(e.addListener(h),t.addListener(h),h())})}document.addEventListener("DOMContentLoaded",()=>{!function(e){const t=document.querySelector(".swiper-feedback-wrapper");t.innerHTML="",e.forEach(({text:e,author:o,position:n,avatar1x:a,avatar2x:s,rating:i,subscription:r})=>{const l=document.createElement("li");l.className="swiper-slide feedback-card",l.innerHTML=`\n  <div class="feedback-text-wrapper">\n    <blockquote class="feedback-text">\n      <span class="text-content">${e}</span>\n    </blockquote>\n  </div>\n  <div class="feedback-overlay" aria-hidden="true">\n    <div class="overlay-text"></div>\n  </div>\n  <div class="feedback-meta">\n    <div class="feedback-rating" data-rating="${i}"></div>\n    ${r?`<div class="badge badge--${r}">\n             <svg class="icon-verified"><use xlink:href="#icon-verified"/></svg>\n             Verified\n           </div>`:'<div class="badge badge--unverified">Unverified</div>'}\n  </div>\n  <div class="feedback-author-wrapper">\n    <img\n      src="${a}"\n      srcset="${a} 1x, ${s} 2x"\n      alt="${o}"\n      width="48" height="48"\n      loading="lazy"\n    />\n    <div class="author-details">\n      <h3 class="author-name">${o}</h3>\n      <p>${n}</p>\n    </div>\n  </div>\n`,t.appendChild(l)})}(D),P=new n(".feedbacks-slider",{slidesPerView:1,spaceBetween:24,speed:600,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".button-nav.prev",nextEl:".button-nav.next",disabledClass:"button-nav--disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Previous feedback",nextSlideMessage:"Next feedback"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}}),document.querySelectorAll(".feedback-rating").forEach(e=>{new a({element:e,max:5,step:.1,rating:parseFloat(e.dataset.rating),readOnly:!0,starSize:14,showToolTip:!1})}),P.el.addEventListener("mouseenter",()=>{var e;return null==(e=P.autoplay)?void 0:e.stop()}),P.el.addEventListener("mouseleave",()=>{var e;return null==(e=P.autoplay)?void 0:e.start()}),P.el.addEventListener("focusin",()=>{var e;return null==(e=P.autoplay)?void 0:e.stop()}),P.el.addEventListener("focusout",()=>{var e;return null==(e=P.autoplay)?void 0:e.start()}),R(),function(){const e=document.querySelectorAll("#feedbacks-title, .feedbacks-subtitle"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.target.classList.toggle("visible",e.isIntersecting)})},{root:null,threshold:.2});e.forEach(e=>{e.classList.add("animate-slide-in-right"),t.observe(e)})}()});const z=document.querySelector(".footer-join-form"),H=document.querySelector(".footer-form-validation"),F=document.querySelector(".footer-email"),V=document.querySelector("#copy-year"),W=2025;function J(){X("* Required field")}function X(e){H.textContent=e,H.classList.remove("color-error"),F.classList.remove("error")}z&&H&&F?z.addEventListener("submit",function(e){e.preventDefault(),F.addEventListener("input",J);const t=new FormData(z).get("footer-email").trim();if(!t||!F.validity.valid)return o="Please enter a valid email address",H.textContent=o,H.classList.add("color-error"),void F.classList.add("error");var o;X("* Required field"),u(`Thank you for subscribing with <b>${t}</b>`,"success"),z.reset(),F.removeEventListener("input",J)}):console.warn("Form or input elements not found.");const Y=(new Date).getFullYear();V.textContent=Y>W?`2025-${Y}`:W;const K={openBtn:document.querySelector(".mobile-menu-open-btn"),closeBtn:document.querySelector(".mobile-menu-close-btn"),mobileMenu:document.querySelector(".mobile-menu"),mobileNavLinks:document.querySelectorAll(".mobile-menu-page-link"),desktopNavLinks:document.querySelectorAll(".page-menu-link"),body:document.body};K.openBtn.addEventListener("click",()=>{K.mobileMenu.classList.add("is-open"),K.body.classList.add("modal-open")}),K.closeBtn.addEventListener("click",()=>{K.mobileMenu.classList.remove("is-open"),K.body.classList.remove("modal-open")}),K.mobileNavLinks.forEach(e=>{e.addEventListener("click",()=>{K.mobileMenu.classList.remove("is-open"),K.body.classList.remove("modal-open")})}),new n(".swiper-hero",{direction:"horizontal",keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-hero-slider-forward",prevEl:".js-hero-slider-prev"},autoplay:{delay:5e3,disableOnInteraction:!1},speed:1e3,spaceBetween:24});const G=document.querySelectorAll(".location-hidden, .location-hidden-side"),Q=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;e.intersectionRatio>.5?(t.classList.contains("location-hidden")&&t.classList.add("location-show"),t.classList.contains("location-hidden-side")&&t.classList.add("location-show-side")):(t.classList.contains("location-hidden")&&t.classList.remove("location-show"),t.classList.contains("location-hidden-side")&&t.classList.remove("location-show-side"))})},{threshold:.5});G.forEach(e=>Q.observe(e));const U={openFormModal:document.querySelectorAll(".register-btn"),formBackdrop:document.querySelector("#modalContacts"),closeBtnModal:document.querySelector(".modal-form-close"),formList:document.querySelector(".form-box"),inputName:document.querySelector("[data-name]"),inputEmail:document.querySelector("[data-email]"),inputArea:document.querySelector("[data-area]"),submitBtnModal:document.querySelector(".form-btn-submit"),titleEventSection:document.querySelectorAll(".event-subhead"),titleEventModal:document.querySelector(".modal-form-subscription")},Z=e=>{"Escape"===e.key&&oe()},ee=e=>{e.target===U.formBackdrop&&oe()};function te(e){!function(e){const t=e.closest(".event-card"),o=t?t.querySelector(".event-subhead"):null;if(o){const e=o.textContent;U.titleEventModal.textContent=e}}(e.currentTarget),U.formBackdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),U.closeBtnModal.addEventListener("click",oe),U.formBackdrop.addEventListener("click",ee),document.addEventListener("keydown",Z)}function oe(){U.formBackdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),U.closeBtnModal.removeEventListener("click",oe),U.formBackdrop.removeEventListener("click",ee),document.removeEventListener("keydown",Z)}U.openFormModal.forEach(e=>{e.addEventListener("click",te)}),U.closeBtnModal.addEventListener("click",()=>{oe()}),document.addEventListener("keydown",Z),document.addEventListener("click",ee),U.formList.addEventListener("input",function(){const e={name:U.inputName.value.trim(),email:U.inputEmail.value.trim(),message:U.inputArea.value.trim()};localStorage.setItem("contactFormData",JSON.stringify(e))}),function(){const e=localStorage.getItem("contactFormData");if(e){const t=JSON.parse(e);U.inputName.value=t.name||"",U.inputEmail.value=t.email||"",U.inputArea.value=t.message||""}}(),U.formList.addEventListener("submit",async o=>{o.preventDefault();const n=o.currentTarget.previousElementSibling.textContent,a={name:U.inputName.value.trim(),email:U.inputEmail.value.trim(),message:U.inputArea.value.trim()||"No messege typed"};return U.inputName.disabled=!0,U.inputEmail.disabled=!0,U.inputArea.disabled=!0,U.submitBtnModal.disabled=!0,U.submitBtnModal.textContent="Sending...",await(async(t,o)=>{const{name:n,email:a,message:s}=t;try{const t=await e.post("https://test-server-fortg.onrender.com/send-message",{dataid:o,name:n,email:a,message:s});console.log("Відповідь сервера:",t.data)}catch(i){console.error("Помилка при надсиланні:",i)}})(a,n),U.inputName.disabled=!1,U.inputEmail.disabled=!1,U.inputArea.disabled=!1,U.submitBtnModal.disabled=!1,U.submitBtnModal.textContent="Register",oe(),localStorage.removeItem("contactFormData"),U.formList.reset(),t.info({message:"Thank you, our manager will contact you!",position:"center"})});
//# sourceMappingURL=main.BUtqzWvU.js.map
