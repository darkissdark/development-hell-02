{"version":3,"file":"main.D2M7fDjY.js","sources":["../src/js/refs.js","../src/js/books-api.js","../src/js/render-functions.js","../src/js/common.js","../src/js/books-modal.js","../src/js/books.js","../src/js/events.js","../src/images/feedbacks/jane_doe.jpg","../src/js/feedbacks-data.js","../src/images/feedbacks/jane_doe@2x.jpg","../src/images/feedbacks/jane_doe.webp","../src/images/feedbacks/jane_doe@2x.webp","../src/images/feedbacks/john_smith.jpg","../src/images/feedbacks/john_smith@2x.jpg","../src/images/feedbacks/john_smith.webp","../src/images/feedbacks/john_smith@2x.webp","../src/images/feedbacks/emily_johnson.jpg","../src/images/feedbacks/emily_johnson@2x.jpg","../src/images/feedbacks/emily_johnson.webp","../src/images/feedbacks/emily_johnson@2x.webp","../src/images/feedbacks/sofia_lee.jpg","../src/images/feedbacks/sofia_lee@2x.jpg","../src/images/feedbacks/sofia_lee.webp","../src/images/feedbacks/sofia_lee@2x.webp","../src/images/feedbacks/carlos_mendez.jpg","../src/images/feedbacks/carlos_mendez@2x.jpg","../src/images/feedbacks/carlos_mendez.webp","../src/images/feedbacks/carlos_mendez@2x.webp","../src/images/feedbacks/natalie_brooks.jpg","../src/images/feedbacks/natalie_brooks@2x.jpg","../src/images/feedbacks/natalie_brooks.webp","../src/images/feedbacks/natalie_brooks@2x.webp","../src/images/feedbacks/david_nguyen.jpg","../src/images/feedbacks/david_nguyen@2x.jpg","../src/images/feedbacks/david_nguyen.webp","../src/images/feedbacks/david_nguyen@2x.webp","../src/images/feedbacks/aisha_patel.jpg","../src/images/feedbacks/aisha_patel@2x.jpg","../src/images/feedbacks/aisha_patel.webp","../src/images/feedbacks/aisha_patel@2x.webp","../src/images/feedbacks/michael_thompson.jpg","../src/images/feedbacks/michael_thompson@2x.jpg","../src/images/feedbacks/michael_thompson.webp","../src/images/feedbacks/michael_thompson@2x.webp","../src/images/feedbacks/olivia_brown.jpg","../src/images/feedbacks/olivia_brown@2x.jpg","../src/images/feedbacks/olivia_brown.webp","../src/images/feedbacks/olivia_brown@2x.webp","../src/images/feedbacks/liam_wilson.jpg","../src/images/feedbacks/liam_wilson@2x.jpg","../src/images/feedbacks/liam_wilson.webp","../src/images/feedbacks/liam_wilson@2x.webp","../src/images/feedbacks/ava_martinez.jpg","../src/images/feedbacks/ava_martinez@2x.jpg","../src/images/feedbacks/ava_martinez.webp","../src/images/feedbacks/ava_martinez@2x.webp","../src/images/feedbacks/noah_garcia.jpg","../src/images/feedbacks/noah_garcia@2x.jpg","../src/images/feedbacks/noah_garcia.webp","../src/images/feedbacks/noah_garcia@2x.webp","../src/images/feedbacks/mia_lopez.jpg","../src/images/feedbacks/mia_lopez@2x.jpg","../src/images/feedbacks/mia_lopez.webp","../src/images/feedbacks/mia_lopez@2x.webp","../src/images/feedbacks/ethan_clark.jpg","../src/images/feedbacks/ethan_clark@2x.jpg","../src/images/feedbacks/ethan_clark.webp","../src/images/feedbacks/ethan_clark@2x.webp","../src/images/feedbacks/isabella_rodriguez.jpg","../src/images/feedbacks/isabella_rodriguez@2x.jpg","../src/images/feedbacks/isabella_rodriguez.webp","../src/images/feedbacks/isabella_rodriguez@2x.webp","../src/images/feedbacks/james_lee.jpg","../src/images/feedbacks/james_lee@2x.jpg","../src/images/feedbacks/james_lee.webp","../src/images/feedbacks/james_lee@2x.webp","../src/images/feedbacks/sophia_walker.jpg","../src/images/feedbacks/sophia_walker@2x.jpg","../src/images/feedbacks/sophia_walker.webp","../src/images/feedbacks/sophia_walker@2x.webp","../src/images/feedbacks/benjamin_scott.jpg","../src/images/feedbacks/benjamin_scott@2x.jpg","../src/images/feedbacks/benjamin_scott.webp","../src/images/feedbacks/benjamin_scott@2x.webp","../src/images/feedbacks/charlotte_young.jpg","../src/images/feedbacks/charlotte_young@2x.jpg","../src/images/feedbacks/charlotte_young.webp","../src/images/feedbacks/charlotte_young@2x.webp","../src/js/feedbacks.js","../src/js/footer.js","../src/js/header.js","../src/js/hero.js","../src/js/location.js","../src/js/backend-api.js","../src/js/contacts-modal.js","../src/js/cart.js"],"sourcesContent":["export const refs = {\n  listOfCategories: document.querySelector('.js-categories-list'),\n  booksPerPage: document.querySelector('js-books-per-page'),\n  bookCard: document.querySelector('.js-books-list'),\n  showMoreBtn: document.querySelector('.js-show-more-btn'),\n  pageEl: document.querySelector('.js-books-per-page'),\n  accBtn: document.querySelector('.js-accordion-btn'),\n  accContent: document.querySelector('.js-accordion-content'),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/';\n\nexport async function getDataOnRequest(urlApi) {\n  const response = await axios.get(urlApi);\n  return response.data;\n}\n\nexport async function getBooksByCategory(urlApi, params) {\n  const axiosOptions = {\n    params: {\n      category: params,\n    },\n  };\n  const response = await axios.get(urlApi, axiosOptions);\n  return response.data;\n}\n","import { refs } from './refs';\n\nexport function renderCategories(categories) {\n  const markup = categories\n    .map(({ list_name }) => {\n      // const name = list_name.trim() === '' ? 'No Category' : list_name;\n      const name = list_name;\n      return `\n      <li class=\"category-item js-category-item\">\n        ${name}\n      </li>\n      `;\n    })\n    .join('');\n  refs.listOfCategories.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderBooks(books) {\n  const markup = books\n    .map(\n      ({ book_image, price, title, author, description, rank, _id }) =>\n        `\n      <li class=\"book-card js-book-card\">\n        <img\n          src='${book_image}'\n          alt=\"${title}\"\n          class=\"book-card-image\"\n        />\n        <div class=\"book-description\">\n          <div class=\"book-details\">\n            <div class=\"book-info\">\n              <p class=\"book-title\">${title}</p>\n              <p class=\"book-autor\">${author}</p>\n            </div>\n            <p class=\"book-price\">$${price}</p>\n          </div>\n          <button class=\"book-info-btn js-book-info-btn\" data-id=${_id} >Learn More</button>\n        </div>\n      </li>\n      `\n    )\n    .join('');\n  refs.bookCard.insertAdjacentHTML('beforeend', markup);\n}\n\nconst seeNextBooks = refs.showMoreBtn.classList;\nexport const showLoadMoreButton = () => seeNextBooks.remove('is-hidden');\nexport const hideLoadMoreButton = () => seeNextBooks.add('is-hidden');\n","import iziToast from 'izitoast';\n\nconst windowWidth = window.innerWidth;\n\nexport function showToast(message, type = 'error') {\n  iziToast[type]({\n    message,\n    position: windowWidth < 768 ? 'center' : 'topRight',\n    maxWidth: windowWidth < 432 ? 300 : 400,\n  });\n}\n\nconst scrollUpBtn = document.querySelector('.scroll-up');\nconst SCROLL_UP_MULTIPLIER = 1.5;\n\nwindow.addEventListener('scroll', () => {\n  const scrollTrigger = window.innerHeight * SCROLL_UP_MULTIPLIER;\n\n  if (window.scrollY > scrollTrigger) {\n    scrollUpBtn.classList.add('show');\n  } else {\n    scrollUpBtn.classList.remove('show');\n  }\n});\n\nscrollUpBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n// loader\nconst loaderEl = document.querySelector('.loader');\nexport function hideLoader() {\n  loaderEl.classList.add('hide-loader');\n}\nexport function showLoader() {\n  loaderEl.classList.remove('hide-loader');\n}\n","import Accordion from 'accordion-js';\nimport { showToast } from './common.js';\n\nconst accordion = new Accordion('.modal-books-accordion-container', {\n  duration: 400,\n  showMultiple: true,\n});\n\nconst refs = {\n  modal: document.querySelector('.modal-books'),\n  backdrop: document.querySelector('.modal-books-backdrop'),\n  input: document.querySelector('.quantity-selector-quantity-input'),\n  modalBooksTextWrapper: document.querySelector('.modal-books-text-wrapper'),\n  bookPhotoWrapper: document.querySelector('.modal-book-photo-wrapper'),\n  accordionDetails: document.querySelector('.js-ac-text-details'),\n  addToCartBtn: document.querySelector('[data-action=\"add-to-cart\"]'),\n};\n\nconst handleModalBookClick = event => {\n  const target = event.target;\n  const action = target.dataset.action;\n\n  if (action === 'add-to-cart') {\n    const quantity = parseInt(refs.input.value) || 1;\n\n    const cartData = {\n      productId: 'Books',\n      quantity: quantity,\n    };\n\n    localStorage.setItem('cart-item', JSON.stringify(cartData));\n    closeModal();\n    // showToast(`Книгу додано у кошик: ${quantity} шт.`, 'success');\n    return;\n  }\n  if (action === 'buy-now') {\n    showToast('Manager will contact you soon', 'success');\n    closeModal();\n    localStorage.removeItem('cart-item');\n    return;\n  }\n\n  if (target.classList.contains('quantity-selector-decrease')) {\n    updateQuantity(-1);\n    return;\n  }\n  if (target.classList.contains('quantity-selector-increase')) {\n    updateQuantity(1);\n    return;\n  }\n\n  if (target === refs.backdrop) {\n    closeModal();\n    return;\n  }\n  if (target.closest('.modal-books-button')) {\n    closeModal();\n    return;\n  }\n};\n\nrefs.backdrop.addEventListener('click', handleModalBookClick);\n\nconst handleEscKey = e => {\n  if (e.key === 'Escape' && refs.backdrop.classList.contains('show-modal')) {\n    closeModal();\n    return;\n  }\n};\n\nexport const openModal = () => {\n  refs.input.value = '1';\n  refs.addToCartBtn.dataset.qty = '1';\n  accordion.closeAll();\n  refs.backdrop.classList.add('show-modal');\n  document.body.classList.add('modal-open');\n  // Додавання лісенерів\n  document.addEventListener('keydown', handleEscKey);\n  refs.backdrop.addEventListener('click', handleModalBookClick);\n  refs.input.addEventListener('input', handleInputOnlyNumbers);\n  refs.input.addEventListener('blur', handleInputBlur);\n};\n\nconst closeModal = () => {\n  refs.backdrop.classList.remove('show-modal');\n  document.body.classList.remove('modal-open');\n  // Зняття лісенерів\n  document.removeEventListener('keydown', handleEscKey);\n  refs.backdrop.removeEventListener('click', handleModalBookClick);\n  refs.input.removeEventListener('input', handleInputOnlyNumbers);\n  refs.input.removeEventListener('blur', handleInputBlur);\n};\n\nconst updateQuantity = change => {\n  const currentValue = parseInt(refs.input.value) || 1;\n  const newValue = Math.max(1, Math.min(99, currentValue + change));\n  refs.input.value = newValue;\n  refs.addToCartBtn.dataset.qty = newValue;\n};\n\nconst handleInputOnlyNumbers = e => {\n  e.target.value = e.target.value.replace(/[^0-9]/g, '');\n};\n\nconst handleInputBlur = e => {\n  const value = parseInt(e.target.value) || 1;\n  const newValue = Math.max(1, Math.min(99, value));\n  e.target.value = newValue;\n  refs.addToCartBtn.dataset.qty = newValue;\n};\n\nexport function fillDataModalBook({\n  book_image: bookImage,\n  title,\n  description,\n  price,\n  author,\n  _id: id,\n}) {\n  const imageData = `\n    <img\n            src=\"${\n              bookImage || 'https://placehold.co/309x466/png?text=No+image'\n            }\"\n            alt=\"${title || 'Без назви'}\" \n            class=\"modal-books-img\"\n          />\n  `;\n\n  refs.bookPhotoWrapper.innerHTML = imageData;\n\n  const modalBookText = `\n            <h2 class=\"modal-books-title\">${title || 'Без назви'}</h2>\n            <p class=\"modal-books-text\">${author || 'Невідомий автор'}</p>\n            <p class=\"modal-books-price\">${\n              price ? price + '$' : 'Ціна не вказана'\n            }</p>\n         `;\n\n  refs.modalBooksTextWrapper.innerHTML = modalBookText;\n\n  refs.accordionDetails.textContent = description || 'No description';\n\n  refs.addToCartBtn.dataset.id = id;\n  refs.addToCartBtn.dataset.title = title;\n  refs.addToCartBtn.dataset.price = price;\n}\n","/* ===== Импорт библиотек ===== */\nimport iziToast from 'izitoast';\n\n/* ===== импорт именных переменных ===== */\nimport { refs } from './refs';\nimport { getDataOnRequest, getBooksByCategory } from './books-api';\nimport {\n  renderCategories,\n  renderBooks,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n} from './render-functions';\nimport { openModal, fillDataModalBook } from './books-modal';\n\nconst accBtn = document.querySelector('.js-accordion-btn');\nconst accContent = document.querySelector('.js-accordion-content');\nconst accIcon = refs.accBtn.querySelector('.books-acc-icon');\n\n/* ===== Переменные для API ===== */\nconst allBookCategories = 'books/category-list/';\nconst categoriesOfTopBooks = 'books/top-books/';\nconst booksAllCategory = 'books/category/';\n\n// ======= Переменные пагинации =======\nlet originalBooks = [];\nlet visibleBooks = [];\nlet page = 1;\nlet totalPages = null;\nlet booksPerPage = 10;\nlet totalCards = null;\nlet loadedCards = null;\n\nlet booksCategories = null;\nhideLoadMoreButton();\n\n// ======= Инициализация =======\nasync function initPage() {\n  try {\n    const categories = await getDataOnRequest(allBookCategories);\n    renderCategories(categories);\n\n    const topBooksRaw = await getDataOnRequest(categoriesOfTopBooks);\n\n    if (!topBooksRaw || !topBooksRaw.length) {\n      iziToast.warning({\n        message:\n          'Sorry, there are currently no books in this category. Please contact us later.',\n        position: 'topRight',\n      });\n      return;\n    }\n    const books = extractBooks(topBooksRaw);\n    setBooksPerPage();\n    paginateBooks(books);\n  } catch (error) {\n    console.error('Ошибка при инициализации страницы:', error.message);\n    // iziToast.error({ message: 'Ошибка при загрузке данных.', position: 'topRight' });\n  }\n}\n\n/* ===== Устанавливает количество загружаемых карт на странице за раз ===== */\nfunction setBooksPerPage() {\n  const width = window.innerWidth;\n\n  if (width < 768) {\n    booksPerPage = 10;\n  } else {\n    booksPerPage = 24;\n  }\n}\n/* ===== Проверка изменения разрешения экрана ===== */\nwindow.addEventListener('resize', () => {\n  const prev = booksPerPage;\n  setBooksPerPage();\n\n  if (booksPerPage !== prev && originalBooks.length > 0) {\n    page = 1;\n    visibleBooks = [];\n    loadedCards = null;\n    paginateBooks(originalBooks);\n  }\n});\n\n/* ===== Объединить все массивы в один ===== */\nfunction extractBooks(bookData) {\n  const data = bookData.flatMap(({ books }) => books);\n  return removeDuplicateBooks(data);\n}\n\n/* ===== Удалить повторяющиеся книги по title ===== */\nfunction removeDuplicateBooks(books) {\n  const seenTitles = new Set();\n  const uniqueBooks = books.filter(book => {\n    if (seenTitles.has(book.title)) return false;\n    seenTitles.add(book.title);\n    return true;\n  });\n\n  if (uniqueBooks.length === 0) {\n    iziToast.warning({\n      message: 'No books available to display.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  return uniqueBooks;\n}\n/* ======= Пагинация и отправка на отрисовку ======= */\nfunction paginateBooks(rawBooksData) {\n  hideLoadMoreButton();\n\n  /* ===== первоначальная загрузка массива ===== */\n  if (originalBooks.length === 0) {\n    originalBooks = rawBooksData;\n    totalCards = originalBooks.length;\n    totalPages = Math.ceil((originalBooks.length - booksPerPage) / 4) + 1;\n    if (totalPages < 1) totalPages = 1;\n  }\n\n  let start = null;\n  let end = null;\n\n  if (totalPages > page) {\n    if (page === 1) {\n      start = (page - 1) * booksPerPage;\n      end = start + booksPerPage;\n    } else {\n      start = loadedCards;\n      end = start + 4;\n    }\n    visibleBooks = originalBooks.slice(start, end);\n  } else {\n    start = loadedCards;\n    end = originalBooks.length;\n    visibleBooks = originalBooks.slice(start, end);\n    originalBooks = [];\n  }\n\n  loadedCards += visibleBooks.length;\n\n  refs.pageEl.textContent = `Showing ${loadedCards} of ${totalCards}`;\n  if (originalBooks.length === 0) {\n    if (page > 1) {\n      iziToast.info({\n        message: 'Sorry, you have viewed all the books in this category.',\n        position: 'topRight',\n      });\n    }\n    scrollByUp();\n    renderBooks(visibleBooks);\n    visibleBooks = [];\n    page = 1;\n    totalPages = null;\n    totalCards = null;\n    loadedCards = null;\n\n    return;\n  }\n\n  if (page === 1) {\n    refs.bookCard.innerHTML = '';\n  }\n  if (loadedCards != booksPerPage) {\n    scrollByUp();\n  }\n  renderBooks(visibleBooks);\n  page++;\n  showLoadMoreButton();\n}\n\n/* ======= отрисовка модалки ======= */\nexport async function handleBookDetails(event) {\n  const btn = event.target.closest('.js-book-info-btn');\n  if (!btn) return;\n\n  const bookId = btn.dataset.id;\n  if (!bookId) return;\n  const bookById = `books/${bookId}`;\n  try {\n    const bookData = await getDataOnRequest(bookById);\n    fillDataModalBook(bookData);\n    openModal();\n  } catch (error) {\n    console.error('Ошибка загрузки книги по ID:', error.message);\n  }\n}\n\n/* ======= Скроллинг до нового запроса ======= */\nfunction scrollByUp() {\n  const allCards = document.querySelectorAll('.js-book-card');\n  if (allCards.length === 0) return;\n\n  const lastCard = allCards[allCards.length - 1];\n  const rect = lastCard.getBoundingClientRect();\n\n  // Вычисляем координату низа карточки\n  const targetScrollY = rect.top + rect.height + window.scrollY;\n\n  window.scrollTo({\n    top: targetScrollY,\n    behavior: 'smooth',\n  });\n}\n\n/* ======= Клик по категории ======= */\nconst selectCategory = async event => {\n  const li = event.target.closest('.js-category-item');\n  if (!li) return;\n  let books = null;\n\n  booksCategories = li.textContent.trim();\n  if (booksCategories === 'All categories') {\n    const booksData = await getDataOnRequest(categoriesOfTopBooks);\n    books = extractBooks(booksData);\n  } else {\n    const booksData = await getBooksByCategory(\n      booksAllCategory,\n      booksCategories\n    );\n    books = removeDuplicateBooks(booksData);\n  }\n\n  page = 1;\n  totalPages = null;\n  originalBooks = [];\n  visibleBooks = [];\n  totalCards = null;\n  loadedCards = null;\n  refs.bookCard.innerHTML = '';\n\n  accContent.classList.remove('open');\n  accIcon.classList.remove('rotate');\n  paginateBooks(books);\n};\n// Открытие/закрытие аккордиона по кнопке\naccBtn.addEventListener('click', () => {\n  accContent.classList.toggle('open');\n  accIcon.classList.toggle('rotate');\n});\n\n// Закрытие аккордиона при клике вне него\ndocument.addEventListener('click', event => {\n  const isClickInside =\n    accContent.contains(event.target) || accBtn.contains(event.target);\n  if (!isClickInside && accContent.classList.contains('open')) {\n    accContent.classList.remove('open');\n    accIcon.classList.remove('rotate');\n  }\n});\n\n/* ===== Очищение экрана с карточками ===== */\nfunction clearBooks() {\n  refs.bookCard.innerHTML = '';\n}\n\n/* ===== Клик по кнопке Show More ===== */\nrefs.showMoreBtn.addEventListener('click', () => {\n  paginateBooks();\n});\n\n/* ===== Клик по списку выбора категории ===== */\nrefs.listOfCategories.addEventListener('click', selectCategory);\n\n/* ===== Клик по кнопке подробной информации ===== */\nrefs.bookCard.addEventListener('click', handleBookDetails);\n\ninitPage();\n","\nimport Swiper from 'swiper/bundle';\n    const swiper = new Swiper('.event-list', {\n      direction: 'horizontal',\n      slidesPerView: 1,\n      spaceBetween: 24,\n      keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n      },\n      navigation: {\n        nextEl: '.js-events-slider-forward',\n        prevEl: '.js-events-slider-prev',\n      },\n      pagination: {\n        el: '.events-pagination',\n        clickable: true,\n      },\n      a11y: {\n        enabled: true,\n        slideRole: '',\n      },\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 24,\n        },\n      },\n    });\n","export default \"__VITE_ASSET__BUxr77a7__\"","import janeDoe1x from '../images/feedbacks/jane_doe.jpg';\nimport janeDoe2x from '../images/feedbacks/jane_doe@2x.jpg';\nimport janeDoeWebp1x from '../images/feedbacks/jane_doe.webp';\nimport janeDoeWebp2x from '../images/feedbacks/jane_doe@2x.webp';\n\nimport johnSmith1x from '../images/feedbacks/john_smith.jpg';\nimport johnSmith2x from '../images/feedbacks/john_smith@2x.jpg';\nimport johnSmithWebp1x from '../images/feedbacks/john_smith.webp';\nimport johnSmithWebp2x from '../images/feedbacks/john_smith@2x.webp';\n\nimport emilyJohnson1x from '../images/feedbacks/emily_johnson.jpg';\nimport emilyJohnson2x from '../images/feedbacks/emily_johnson@2x.jpg';\nimport emilyJohnsonWebp1x from '../images/feedbacks/emily_johnson.webp';\nimport emilyJohnsonWebp2x from '../images/feedbacks/emily_johnson@2x.webp';\n\nimport sofiaLee1x from '../images/feedbacks/sofia_lee.jpg';\nimport sofiaLee2x from '../images/feedbacks/sofia_lee@2x.jpg';\nimport sofiaLeeWebp1x from '../images/feedbacks/sofia_lee.webp';\nimport sofiaLeeWebp2x from '../images/feedbacks/sofia_lee@2x.webp';\n\nimport carlosMendez1x from '../images/feedbacks/carlos_mendez.jpg';\nimport carlosMendez2x from '../images/feedbacks/carlos_mendez@2x.jpg';\nimport carlosMendezWebp1x from '../images/feedbacks/carlos_mendez.webp';\nimport carlosMendezWebp2x from '../images/feedbacks/carlos_mendez@2x.webp';\n\nimport natalieBrooks1x from '../images/feedbacks/natalie_brooks.jpg';\nimport natalieBrooks2x from '../images/feedbacks/natalie_brooks@2x.jpg';\nimport natalieBrooksWebp1x from '../images/feedbacks/natalie_brooks.webp';\nimport natalieBrooksWebp2x from '../images/feedbacks/natalie_brooks@2x.webp';\n\nimport davidNguyen1x from '../images/feedbacks/david_nguyen.jpg';\nimport davidNguyen2x from '../images/feedbacks/david_nguyen@2x.jpg';\nimport davidNguyenWebp1x from '../images/feedbacks/david_nguyen.webp';\nimport davidNguyenWebp2x from '../images/feedbacks/david_nguyen@2x.webp';\n\nimport aishaPatel1x from '../images/feedbacks/aisha_patel.jpg';\nimport aishaPatel2x from '../images/feedbacks/aisha_patel@2x.jpg';\nimport aishaPatelWebp1x from '../images/feedbacks/aisha_patel.webp';\nimport aishaPatelWebp2x from '../images/feedbacks/aisha_patel@2x.webp';\n\nimport michaelThompson1x from '../images/feedbacks/michael_thompson.jpg';\nimport michaelThompson2x from '../images/feedbacks/michael_thompson@2x.jpg';\nimport michaelThompsonWebp1x from '../images/feedbacks/michael_thompson.webp';\nimport michaelThompsonWebp2x from '../images/feedbacks/michael_thompson@2x.webp';\n\nimport oliviaBrown1x from '../images/feedbacks/olivia_brown.jpg';\nimport oliviaBrown2x from '../images/feedbacks/olivia_brown@2x.jpg';\nimport oliviaBrownWebp1x from '../images/feedbacks/olivia_brown.webp';\nimport oliviaBrownWebp2x from '../images/feedbacks/olivia_brown@2x.webp';\n\nimport liamWilson1x from '../images/feedbacks/liam_wilson.jpg';\nimport liamWilson2x from '../images/feedbacks/liam_wilson@2x.jpg';\nimport liamWilsonWebp1x from '../images/feedbacks/liam_wilson.webp';\nimport liamWilsonWebp2x from '../images/feedbacks/liam_wilson@2x.webp';\n\nimport avaMartinez1x from '../images/feedbacks/ava_martinez.jpg';\nimport avaMartinez2x from '../images/feedbacks/ava_martinez@2x.jpg';\nimport avaMartinezWebp1x from '../images/feedbacks/ava_martinez.webp';\nimport avaMartinezWebp2x from '../images/feedbacks/ava_martinez@2x.webp';\n\nimport noahGarcia1x from '../images/feedbacks/noah_garcia.jpg';\nimport noahGarcia2x from '../images/feedbacks/noah_garcia@2x.jpg';\nimport noahGarciaWebp1x from '../images/feedbacks/noah_garcia.webp';\nimport noahGarciaWebp2x from '../images/feedbacks/noah_garcia@2x.webp';\n\nimport miaLopez1x from '../images/feedbacks/mia_lopez.jpg';\nimport miaLopez2x from '../images/feedbacks/mia_lopez@2x.jpg';\nimport miaLopezWebp1x from '../images/feedbacks/mia_lopez.webp';\nimport miaLopezWebp2x from '../images/feedbacks/mia_lopez@2x.webp';\n\nimport ethanClark1x from '../images/feedbacks/ethan_clark.jpg';\nimport ethanClark2x from '../images/feedbacks/ethan_clark@2x.jpg';\nimport ethanClarkWebp1x from '../images/feedbacks/ethan_clark.webp';\nimport ethanClarkWebp2x from '../images/feedbacks/ethan_clark@2x.webp';\n\nimport isabellaRodriguez1x from '../images/feedbacks/isabella_rodriguez.jpg';\nimport isabellaRodriguez2x from '../images/feedbacks/isabella_rodriguez@2x.jpg';\nimport isabellaRodriguezWebp1x from '../images/feedbacks/isabella_rodriguez.webp';\nimport isabellaRodriguezWebp2x from '../images/feedbacks/isabella_rodriguez@2x.webp';\n\nimport jamesLee1x from '../images/feedbacks/james_lee.jpg';\nimport jamesLee2x from '../images/feedbacks/james_lee@2x.jpg';\nimport jamesLeeWebp1x from '../images/feedbacks/james_lee.webp';\nimport jamesLeeWebp2x from '../images/feedbacks/james_lee@2x.webp';\n\nimport sophiaWalker1x from '../images/feedbacks/sophia_walker.jpg';\nimport sophiaWalker2x from '../images/feedbacks/sophia_walker@2x.jpg';\nimport sophiaWalkerWebp1x from '../images/feedbacks/sophia_walker.webp';\nimport sophiaWalkerWebp2x from '../images/feedbacks/sophia_walker@2x.webp';\n\nimport benjaminScott1x from '../images/feedbacks/benjamin_scott.jpg';\nimport benjaminScott2x from '../images/feedbacks/benjamin_scott@2x.jpg';\nimport benjaminScottWebp1x from '../images/feedbacks/benjamin_scott.webp';\nimport benjaminScottWebp2x from '../images/feedbacks/benjamin_scott@2x.webp';\n\nimport charlotteYoung1x from '../images/feedbacks/charlotte_young.jpg';\nimport charlotteYoung2x from '../images/feedbacks/charlotte_young@2x.jpg';\nimport charlotteYoungWebp1x from '../images/feedbacks/charlotte_young.webp';\nimport charlotteYoungWebp2x from '../images/feedbacks/charlotte_young@2x.webp';\n\nconst feedbacksData = [\n  {\n    text: 'Great selection, fast delivery, and beautifully packaged books.\\nMy go-to store for weekend reads!',\n    author: 'Jane Doe',\n    position: 'Book Lover, Reader',\n    avatar1x: janeDoe1x,\n    avatar2x: janeDoe2x,\n    avatarWebp1x: janeDoeWebp1x,\n    avatarWebp2x: janeDoeWebp2x,\n    rating: 4.8,\n    subscription: 'gold',\n  },\n  {\n    text: `This bookstore has become my absolute favorite! The rare editions section alone is worth the visit, and the staff always go above and beyond to recommend the perfect titles based on my interests.\\nI love how they support local authors and host engaging events each month.`,\n    author: 'John Smith',\n    position: 'Editor, BookMag',\n    avatar1x: johnSmith1x,\n    avatar2x: johnSmith2x,\n    avatarWebp1x: johnSmithWebp1x,\n    avatarWebp2x: johnSmithWebp2x,\n    rating: 4.6,\n    subscription: null,\n  },\n  {\n    text: `I was pleasantly surprised by the personalized touches in my last order—from the hand-written note tucked inside the package to the custom bookmark.\\nThe whole experience felt crafted just for me, and I can can’t wait to shop again!`,\n    author: 'Emily Johnson',\n    position: 'Author, Novelist',\n    avatar1x: emilyJohnson1x,\n    avatar2x: emilyJohnson2x,\n    avatarWebp1x: emilyJohnsonWebp1x,\n    avatarWebp2x: emilyJohnsonWebp2x,\n    rating: 4.9,\n    subscription: 'gold',\n  },\n  {\n    text: `As a literature professor, I’m endlessly impressed by the depth of their catalog.\\nThey carry everything from contemporary bestsellers to obscure academic volumes, and their recommendation engine never fails to introduce me to new gems.`,\n    author: 'Sofia Lee',\n    position: 'Literature Professor',\n    avatar1x: sofiaLee1x,\n    avatar2x: sofiaLee2x,\n    avatarWebp1x: sofiaLeeWebp1x,\n    avatarWebp2x: sofiaLeeWebp2x,\n    rating: 4.7,\n    subscription: null,\n  },\n  {\n    text: 'I’ve discovered so many hidden gems thanks to this store.\\nThe reviews really help me find niche titles I wouldn’t have found anywhere else!',\n    author: 'Carlos Mendez',\n    position: 'Blogger',\n    avatar1x: carlosMendez1x,\n    avatar2x: carlosMendez2x,\n    avatarWebp1x: carlosMendezWebp1x,\n    avatarWebp2x: carlosMendezWebp2x,\n    rating: 4.5,\n    subscription: 'silver',\n  },\n  {\n    text: 'As a parent, I appreciate the kid-friendly book sections.\\nMy son can’t get enough of the colorful picture books and board books we order each month!',\n    author: 'Natalie Brooks',\n    position: 'Mother & Teacher',\n    avatar1x: natalieBrooks1x,\n    avatar2x: natalieBrooks2x,\n    avatarWebp1x: natalieBrooksWebp1x,\n    avatarWebp2x: natalieBrooksWebp2x,\n    rating: 4.6,\n    subscription: null,\n  },\n  {\n    text: `The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.\\nThe seasonal reading lists they publish are also a great way to branch out beyond my usual genres.`,\n    author: 'David Nguyen',\n    position: 'Graphic Designer',\n    avatar1x: davidNguyen1x,\n    avatar2x: davidNguyen2x,\n    avatarWebp1x: davidNguyenWebp1x,\n    avatarWebp2x: davidNguyenWebp2x,\n    rating: 4.7,\n    subscription: null,\n  },\n  {\n    text: 'Fast shipping and top-notch service, with timely updates throughout delivery.\\nI’ll definitely be back for more, especially during holiday sales!',\n    author: 'Aisha Patel',\n    position: 'Marketing Specialist',\n    avatar1x: aishaPatel1x,\n    avatar2x: aishaPatel2x,\n    avatarWebp1x: aishaPatelWebp1x,\n    avatarWebp2x: aishaPatelWebp2x,\n    rating: 4.8,\n    subscription: 'gold',\n  },\n  {\n    text: 'Their children’s book selection is unbeatable.\\nMy daughter devours every story and can’t wait for the next delivery!',\n    author: 'Michael Thompson',\n    position: 'Pediatric Nurse',\n    avatar1x: michaelThompson1x,\n    avatar2x: michaelThompson2x,\n    avatarWebp1x: michaelThompsonWebp1x,\n    avatarWebp2x: michaelThompsonWebp2x,\n    rating: 4.5,\n    subscription: 'silver',\n  },\n  {\n    text: `I attended one of their virtual author talks and it blew my mind.\\nFelt like I was in the same room!\\n\\nThe way they bring readers and authors together is unmatched, and I ended up buying three books by the speaker before the session ended.`,\n    author: 'Olivia Brown',\n    position: 'Reading Coach',\n    avatar1x: oliviaBrown1x,\n    avatar2x: oliviaBrown2x,\n    avatarWebp1x: oliviaBrownWebp1x,\n    avatarWebp2x: oliviaBrownWebp2x,\n    rating: 4.8,\n    subscription: 'silver',\n  },\n  {\n    text: `Their themed boxes are the best gift idea.\nI’ve sent several to friends, and the feedback is always glowing!`,\n    author: 'Liam Wilson',\n    position: 'Copywriter',\n    avatar1x: liamWilson1x,\n    avatar2x: liamWilson2x,\n    avatarWebp1x: liamWilsonWebp1x,\n    avatarWebp2x: liamWilsonWebp2x,\n    rating: 4.7,\n    subscription: 'gold',\n  },\n  {\n    text: `I rely on their monthly picks to help my students engage with new material.`,\n    author: 'Ava Martinez',\n    position: 'Illustrator',\n    avatar1x: avaMartinez1x,\n    avatar2x: avaMartinez2x,\n    avatarWebp1x: avaMartinezWebp1x,\n    avatarWebp2x: avaMartinezWebp2x,\n    rating: 4.9,\n    subscription: 'gold',\n  },\n  {\n    text: `The mobile app is sleek and makes browsing easy.\nLove the personalized suggestions.\n\nPlus, the notification system is perfectly timed—not intrusive, but informative. I've discovered books I'd never think to read, and they quickly became favorites.`,\n    author: 'Noah Garcia',\n    position: 'Freelance Editor',\n    avatar1x: noahGarcia1x,\n    avatar2x: noahGarcia2x,\n    avatarWebp1x: noahGarciaWebp1x,\n    avatarWebp2x: noahGarciaWebp2x,\n    rating: 4.9,\n    subscription: 'silver',\n  },\n  {\n    text: `Their return policy is hassle-free.`,\n    author: 'Mia Lopez',\n    position: 'Bookstagrammer',\n    avatar1x: miaLopez1x,\n    avatar2x: miaLopez2x,\n    avatarWebp1x: miaLopezWebp1x,\n    avatarWebp2x: miaLopezWebp2x,\n    rating: 4.6,\n    subscription: 'gold',\n  },\n  {\n    text: `So many gems! The hand-written thank-you notes in the packages make me feel like a VIP.`,\n    author: 'Ethan Clark',\n    position: 'Tech Journalist',\n    avatar1x: ethanClark1x,\n    avatar2x: ethanClark2x,\n    avatarWebp1x: ethanClarkWebp1x,\n    avatarWebp2x: ethanClarkWebp2x,\n    rating: 4.9,\n    subscription: 'gold',\n  },\n  {\n    text: `They really understand niche genres.\nThe LGBTQ+ and sci-fi collections are top-tier.\n\nWhat impresses me most is how consistently they update their stock with emerging authors and international voices. Highly recommend for genre lovers!`,\n    author: 'Isabella Rodriguez',\n    position: 'Publishing Assistant',\n    avatar1x: isabellaRodriguez1x,\n    avatar2x: isabellaRodriguez2x,\n    avatarWebp1x: isabellaRodriguezWebp1x,\n    avatarWebp2x: isabellaRodriguezWebp2x,\n    rating: 4.7,\n    subscription: 'silver',\n  },\n  {\n    text: `Found everything I needed. Will shop again.`,\n    author: 'James Lee',\n    position: 'Poetry Enthusiast',\n    avatar1x: jamesLee1x,\n    avatar2x: jamesLee2x,\n    avatarWebp1x: jamesLeeWebp1x,\n    avatarWebp2x: jamesLeeWebp2x,\n    rating: 4.8,\n    subscription: 'silver',\n  },\n  {\n    text: `A thoughtfully designed store with intuitive categories.\nIt's my go-to for weekend reads and personal growth.`,\n    author: 'Sophia Walker',\n    position: 'Fullstack Developer',\n    avatar1x: sophiaWalker1x,\n    avatar2x: sophiaWalker2x,\n    avatarWebp1x: sophiaWalkerWebp1x,\n    avatarWebp2x: sophiaWalkerWebp2x,\n    rating: 4.7,\n    subscription: null,\n  },\n  {\n    text: `My bookshelf has never looked better.\nTheir seasonal collections are always inspiring.\nThey’re not just selling books—they’re building reading habits.`,\n    author: 'Benjamin Scott',\n    position: 'Bookstore Owner',\n    avatar1x: benjaminScott1x,\n    avatar2x: benjaminScott2x,\n    avatarWebp1x: benjaminScottWebp1x,\n    avatarWebp2x: benjaminScottWebp2x,\n    rating: 4.9,\n    subscription: null,\n  },\n  {\n    text: `As a poetry lover, I appreciate the curated chapbooks they carry.`,\n    author: 'Charlotte Young',\n    position: 'Student & Reviewer',\n    avatar1x: charlotteYoung1x,\n    avatar2x: charlotteYoung2x,\n    avatarWebp1x: charlotteYoungWebp1x,\n    avatarWebp2x: charlotteYoungWebp2x,\n    rating: 4.5,\n    subscription: null,\n  },\n];\n\nexport default feedbacksData;\n","export default \"__VITE_ASSET__ecH0UtZ___\"","export default \"__VITE_ASSET__CuJcyOXK__\"","export default \"__VITE_ASSET__Cfvkp90m__\"","export default \"__VITE_ASSET__CTI_S8c9__\"","export default \"__VITE_ASSET__wPkUIsQA__\"","export default \"__VITE_ASSET__DTn7khf6__\"","export default \"__VITE_ASSET__dZMoxWuF__\"","export default \"__VITE_ASSET__DOoJ3Hm9__\"","export default \"__VITE_ASSET__DSqnhLP9__\"","export default \"__VITE_ASSET__CCqXbt1T__\"","export default \"__VITE_ASSET__C3RamEMl__\"","export default \"__VITE_ASSET__ldDlAPIV__\"","export default \"__VITE_ASSET__DsAI1M2h__\"","export default \"__VITE_ASSET__h8euIsol__\"","export default \"__VITE_ASSET__CCmQz0Sl__\"","export default \"__VITE_ASSET__DuFOTK$j__\"","export default \"__VITE_ASSET__fqKNITI4__\"","export default \"__VITE_ASSET__CkM4O1ww__\"","export default \"__VITE_ASSET__BsfPfFT5__\"","export default \"__VITE_ASSET__CXvwoVHI__\"","export default \"__VITE_ASSET__CsNzrtie__\"","export default \"__VITE_ASSET__BGneJEqi__\"","export default \"__VITE_ASSET__Dqskf$jv__\"","export default \"__VITE_ASSET__DtJzEfsx__\"","export default \"__VITE_ASSET__Ccovywd5__\"","export default \"__VITE_ASSET__CfF7p$t___\"","export default \"__VITE_ASSET__waVeoJNT__\"","export default \"__VITE_ASSET__CkUUd2y0__\"","export default \"__VITE_ASSET__kXMKM319__\"","export default \"__VITE_ASSET__BRe1vH9r__\"","export default \"__VITE_ASSET__DRoIrqy1__\"","export default \"__VITE_ASSET__BCNZf$Ec__\"","export default \"__VITE_ASSET__CXR1HmVZ__\"","export default \"__VITE_ASSET__DNa7Db3c__\"","export default \"__VITE_ASSET__CUPJaEHy__\"","export default \"__VITE_ASSET__D$HZHuY1__\"","export default \"__VITE_ASSET__D7rcPKbB__\"","export default \"__VITE_ASSET__Ca1MIq_Z__\"","export default \"__VITE_ASSET__xAdGoVUV__\"","export default \"__VITE_ASSET__DaxAsmK2__\"","export default \"__VITE_ASSET__CdPUknkC__\"","export default \"__VITE_ASSET__zLjiFaeH__\"","export default \"__VITE_ASSET__DUbA2dfo__\"","export default \"__VITE_ASSET__VchJPO7___\"","export default \"__VITE_ASSET__DUX9XNe6__\"","export default \"__VITE_ASSET__BYCDoqpA__\"","export default \"__VITE_ASSET__b7c18QrN__\"","export default \"__VITE_ASSET__Cyid4cec__\"","export default \"__VITE_ASSET__D3l2essa__\"","export default \"__VITE_ASSET__BLp_LhQ1__\"","export default \"__VITE_ASSET__Bcn8Ywim__\"","export default \"__VITE_ASSET__W$06fnPP__\"","export default \"__VITE_ASSET__C8dodeoK__\"","export default \"__VITE_ASSET__Bw4Y45mQ__\"","export default \"__VITE_ASSET__BG1uWI7o__\"","export default \"__VITE_ASSET__C2ug3BR$__\"","export default \"__VITE_ASSET__DVuAVdH6__\"","export default \"__VITE_ASSET__CeuqYO$L__\"","export default \"__VITE_ASSET__CRgLQyn5__\"","export default \"__VITE_ASSET__CXr2$cYi__\"","export default \"__VITE_ASSET__D7Yy74F6__\"","export default \"__VITE_ASSET__D7SC9qAh__\"","export default \"__VITE_ASSET__CgcW8V0o__\"","export default \"__VITE_ASSET__CPVt1Fcq__\"","export default \"__VITE_ASSET__BDqaGTAy__\"","export default \"__VITE_ASSET__CnedbhHH__\"","export default \"__VITE_ASSET__BXS$LviN__\"","export default \"__VITE_ASSET__BFq8SUtf__\"","export default \"__VITE_ASSET__0VTGsa5v__\"","export default \"__VITE_ASSET__DrEP2xhQ__\"","export default \"__VITE_ASSET__CEDdEnjD__\"","export default \"__VITE_ASSET__wZD$rVuu__\"","export default \"__VITE_ASSET__D3pwvyoG__\"","export default \"__VITE_ASSET__ef4gpxYm__\"","export default \"__VITE_ASSET__B1M2zeAM__\"","export default \"__VITE_ASSET___JiO7fit__\"","export default \"__VITE_ASSET__BeZaKJpv__\"","export default \"__VITE_ASSET__DMKzRwUa__\"","export default \"__VITE_ASSET__ZC1H8tur__\"","import feedbacksData from './feedbacks-data';\nimport Swiper from 'swiper/bundle';\nimport Rater from 'rater-js';\n\nlet feedbackSwiper;\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n}\n\nfunction getTruncateIndex(block, fullText) {\n  const clone = block.cloneNode();\n  Object.assign(clone.style, {\n    visibility: 'hidden',\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    height: 'auto',\n    webkitLineClamp: 'unset',\n    display: 'block',\n    overflow: 'visible',\n  });\n  block.parentNode.appendChild(clone);\n\n  let low = 0,\n    high = fullText.length;\n  const maxH = block.clientHeight;\n  while (low < high) {\n    const mid = Math.ceil((low + high) / 2);\n    clone.textContent = fullText.slice(0, mid);\n    if (clone.scrollHeight <= maxH) low = mid;\n    else high = mid - 1;\n  }\n  clone.remove();\n  return low;\n}\n\nfunction renderFeedbackSlides(data) {\n  const wrapper = document.querySelector('.swiper-feedback-wrapper');\n  wrapper.innerHTML = '';\n  data.forEach(\n    ({\n      text,\n      author,\n      position,\n      avatar1x,\n      avatar2x,\n      avatarWebp1x,\n      avatarWebp2x,\n      rating,\n      subscription,\n    }) => {\n      const slide = document.createElement('li');\n      slide.className = 'swiper-slide feedback-card';\n      slide.innerHTML = `\n  <div class=\"feedback-text-wrapper\">\n    <blockquote class=\"feedback-text\">\n      <span class=\"text-content\">${text}</span>\n    </blockquote>\n  </div>\n  <div class=\"feedback-overlay\" aria-hidden=\"true\">\n    <div class=\"overlay-text\"></div>\n  </div>\n  <div class=\"feedback-meta\">\n    <div class=\"feedback-rating\" data-rating=\"${rating}\"></div>\n    ${\n      subscription\n        ? `<div class=\"badge badge--${subscription}\">\n             <svg class=\"icon-verified\"><use xlink:href=\"#icon-verified\"/></svg>\n             Verified\n           </div>`\n        : `<div class=\"badge badge--unverified\">Unverified</div>`\n    }\n  </div>\n  <div class=\"feedback-author-wrapper\">\n    <picture>\n      <source type=\"image/webp\" srcset=\"${avatarWebp1x} 1x, ${avatarWebp2x} 2x\">\n      <source type=\"image/jpeg\" srcset=\"${avatar1x} 1x, ${avatar2x} 2x\">\n      <img\n        src=\"${avatar1x}\"\n        alt=\"${author}\"\n        width=\"48\" height=\"48\"\n        loading=\"lazy\"\n      />\n    </picture>\n    <div class=\"author-details\">\n      <h3 class=\"author-name\">${author}</h3>\n      <p>${position}</p>\n    </div>\n  </div>\n`;\n      wrapper.appendChild(slide);\n    }\n  );\n}\n\nfunction initFeedbackSlider() {\n  feedbackSwiper = new Swiper('.feedbacks-slider', {\n    slidesPerView: 1,\n    spaceBetween: 24,\n    speed: 600,\n    autoplay: {\n      delay: 2000,\n      disableOnInteraction: false,\n    },\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n      dynamicBullets: true,\n    },\n    navigation: {\n      prevEl: '.button-nav.prev',\n      nextEl: '.button-nav.next',\n      disabledClass: 'button-nav--disabled',\n    },\n    keyboard: { enabled: true, onlyInViewport: true },\n    a11y: {\n      enabled: true,\n      prevSlideMessage: 'Previous feedback',\n      nextSlideMessage: 'Next feedback',\n    },\n    breakpoints: {\n      768: { slidesPerView: 2, spaceBetween: 24 },\n      1440: { slidesPerView: 3, spaceBetween: 24 },\n    },\n    on: {\n      paginationUpdate: () => {\n        document\n          .querySelectorAll('.swiper-pagination-bullet')\n          .forEach(bullet => bullet.removeAttribute('tabindex'));\n      },\n    },\n  });\n\n  requestAnimationFrame(() => {\n    document\n      .querySelectorAll('.swiper-pagination-bullet')\n      .forEach(bullet => bullet.removeAttribute('tabindex'));\n  });\n\n  document.querySelectorAll('.feedback-rating').forEach(el => {\n    new Rater({\n      element: el,\n      max: 5,\n      step: 0.1,\n      rating: parseFloat(el.dataset.rating),\n      readOnly: true,\n      starSize: 14,\n      showToolTip: false,\n    });\n  });\n}\n\nfunction bindCardAutoplayEvents() {\n  const cards = document.querySelectorAll('.feedback-card');\n\n  cards.forEach(card => {\n    card.addEventListener('mouseenter', () => {\n      feedbackSwiper?.autoplay?.stop();\n    });\n    card.addEventListener('mouseleave', () => {\n      feedbackSwiper?.autoplay?.start();\n    });\n    card.addEventListener('focusin', () => {\n      feedbackSwiper?.autoplay?.stop();\n    });\n    card.addEventListener('focusout', () => {\n      feedbackSwiper?.autoplay?.start();\n    });\n  });\n}\nfunction attachOverlays() {\n  let isUserInteracting = false;\n  const mqlTablet = window.matchMedia(\n    '(min-width: 768px) and (max-width: 1439px)'\n  );\n  const mqlDesktop = window.matchMedia('(min-width: 1440px)');\n\n  document.querySelectorAll('.feedback-card').forEach(card => {\n    const wrapper = card.querySelector('.feedback-text-wrapper');\n    const block = wrapper.querySelector('.feedback-text');\n    const textEl = block.querySelector('.text-content');\n    const overlay = card.querySelector('.feedback-overlay');\n    const ovText = overlay.querySelector('.overlay-text');\n    let timer,\n      isOpen = false;\n\n    if (block.scrollHeight <= block.clientHeight) {\n      wrapper.classList.add('full-text');\n      return;\n    }\n\n    function markUserInteracting() {\n      isUserInteracting = true;\n      feedbackSwiper?.autoplay?.stop();\n      if (feedbackSwiper) {\n        feedbackSwiper.allowTouchMove = false;\n        feedbackSwiper.allowSlideNext = false;\n        feedbackSwiper.allowSlidePrev = false;\n      }\n    }\n\n    function resetUserInteracting() {\n      isUserInteracting = false;\n      if (feedbackSwiper) {\n        feedbackSwiper.allowTouchMove = true;\n        feedbackSwiper.allowSlideNext = true;\n        feedbackSwiper.allowSlidePrev = true;\n      }\n      feedbackSwiper?.autoplay?.start();\n    }\n\n    function openOverlay() {\n      if (isOpen) return;\n      isOpen = true;\n      markUserInteracting();\n\n      card.classList.add('gradient-overlay');\n      overlay.setAttribute('aria-hidden', 'false');\n      overlay.style.display = 'block';\n\n      const fullText = textEl.textContent;\n      const idx = getTruncateIndex(block, fullText);\n\n      const measure = block.cloneNode();\n      Object.assign(measure.style, {\n        visibility: 'hidden',\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        height: 'auto',\n        webkitLineClamp: 'unset',\n        display: 'block',\n        overflow: 'visible',\n      });\n      measure.textContent = fullText.slice(0, idx);\n      const marker = document.createElement('span');\n      marker.className = 'text-marker';\n      measure.appendChild(marker);\n      block.parentNode.appendChild(measure);\n\n      const cardRect = card.getBoundingClientRect();\n      const mRect = marker.getBoundingClientRect();\n      overlay.style.setProperty('--text-top', `${mRect.top - cardRect.top}px`);\n      overlay.style.setProperty(\n        '--text-left',\n        `${mRect.left - cardRect.left}px`\n      );\n\n      measure.remove();\n\n      const visiblePart = fullText.slice(0, idx);\n      const hiddenPart = fullText.slice(idx);\n\n      ovText.textContent = visiblePart;\n      ovText.style.display = 'inline-block';\n      ovText.style.whiteSpace = 'pre-wrap';\n      ovText.style.wordBreak = 'break-word';\n\n      let i = 0;\n      (function step() {\n        if (i < hiddenPart.length) {\n          ovText.textContent += hiddenPart[i++];\n          timer = setTimeout(step, 25);\n        }\n      })();\n\n      const totalDelay = hiddenPart.length * 25 + 2000;\n      setTimeout(() => {\n        feedbackSwiper.allowTouchMove = true;\n        if (!isUserInteracting) {\n          feedbackSwiper.autoplay?.start();\n        }\n      }, totalDelay);\n    }\n    function closeOverlay(final = false) {\n      clearTimeout(timer);\n      card.classList.remove('gradient-overlay');\n      overlay.setAttribute('aria-hidden', 'true');\n      overlay.style.display = 'none';\n      resetUserInteracting();\n      if (final) isOpen = false;\n    }\n\n    function onMobile() {\n      textEl.removeEventListener('click', onTablet);\n      textEl.removeEventListener('focusin', onDesktop);\n      textEl.removeEventListener('blur', onDesktop);\n      textEl.addEventListener('click', () => {\n        if (isOpen) {\n          resetUserInteracting();\n          closeOverlay(true);\n        } else {\n          openOverlay();\n        }\n      });\n      document.addEventListener('click', e => {\n        if (isOpen && !wrapper.contains(e.target)) {\n          resetUserInteracting();\n          closeOverlay(true);\n        }\n      });\n    }\n    function onTablet() {\n      textEl.removeEventListener('click', onMobile);\n      textEl.removeEventListener('focusin', onDesktop);\n      textEl.removeEventListener('blur', onDesktop);\n      textEl.addEventListener('click', () => {\n        if (isOpen) {\n          resetUserInteracting();\n          closeOverlay(true);\n        } else {\n          openOverlay();\n        }\n      });\n      document.addEventListener('click', e => {\n        if (isOpen && !wrapper.contains(e.target)) {\n          resetUserInteracting();\n          closeOverlay(true);\n        }\n      });\n    }\n    function onDesktop() {\n      textEl.removeEventListener('click', onMobile);\n      textEl.removeEventListener('click', onTablet);\n\n      card.setAttribute('tabindex', '0');\n      card.addEventListener('focusin', () => {\n        isUserInteracting = true;\n        openOverlay();\n      });\n      card.addEventListener('focusout', e => {\n        if (!card.contains(e.relatedTarget)) {\n          isUserInteracting = false;\n          closeOverlay(true);\n        }\n      });\n\n      card.addEventListener('mouseenter', () => {\n        isUserInteracting = true;\n        openOverlay();\n      });\n      card.addEventListener('mouseleave', () => {\n        isUserInteracting = false;\n        closeOverlay(true);\n      });\n    }\n\n    function applyMode() {\n      closeOverlay(true);\n      if (mqlDesktop.matches) onDesktop();\n      else if (mqlTablet.matches) onTablet();\n      else onMobile();\n    }\n    mqlTablet.addListener(applyMode);\n    mqlDesktop.addListener(applyMode);\n    applyMode();\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderFeedbackSlides(shuffleArray([...feedbacksData]));\n  initFeedbackSlider();\n  bindCardAutoplayEvents();\n  attachOverlays();\n});\n","import { showToast } from './common';\n\nconst form = document.querySelector('.footer-join-form');\nconst validationMessage = document.querySelector('.footer-form-validation');\nconst input = document.querySelector('.footer-email');\nconst copyYear = document.querySelector('#copy-year');\n\nconst COPYRIGHT_START_YEAR = 2025;\n\nif (!form || !validationMessage || !input) {\n  console.warn('Form or input elements not found.');\n} else {\n  form.addEventListener('submit', handleSubmit);\n}\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  input.addEventListener('input', handleInputValidation);\n\n  const formData = new FormData(form);\n  const email = formData.get('footer-email').trim();\n\n  if (!email || !input.validity.valid) {\n    showError('Please enter a valid email address');\n    return;\n  }\n\n  clearError('* Required field');\n  showToast(\n    `You have been registered as <b>${email}</b>. All information has been sent to your email.`,\n    'success'\n  );\n  form.reset();\n  input.removeEventListener('input', handleInputValidation);\n}\n\nfunction handleInputValidation() {\n  clearError('* Required field');\n}\n\nfunction showError(message) {\n  validationMessage.textContent = message;\n  validationMessage.classList.add('color-error');\n  input.classList.add('error');\n}\n\nfunction clearError(message) {\n  validationMessage.textContent = message;\n  validationMessage.classList.remove('color-error');\n  input.classList.remove('error');\n}\n\nconst currentYear = new Date().getFullYear();\ncopyYear.textContent =\n  currentYear > COPYRIGHT_START_YEAR\n    ? `${COPYRIGHT_START_YEAR}-${currentYear}`\n    : COPYRIGHT_START_YEAR;\n","const refs = {\n  openBtn: document.querySelector('.mobile-menu-open-btn'),\n  closeBtn: document.querySelector('.mobile-menu-close-btn'),\n  mobileMenu: document.querySelector('.mobile-menu'),\n  mobileNavLinks: document.querySelectorAll('.mobile-menu-page-link'),\n  desktopNavLinks: document.querySelectorAll('.page-menu-link'),\n  body: document.body,\n};\n\nrefs.openBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.add('is-open');\n  refs.body.classList.add('modal-open');\n});\n\nrefs.closeBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.remove('is-open');\n  refs.body.classList.remove('modal-open');\n});\n\nrefs.mobileNavLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    refs.mobileMenu.classList.remove('is-open');\n    refs.body.classList.remove('modal-open');\n  });\n});\n","import Swiper from 'swiper/bundle';\nconst swiper = new Swiper('.swiper-hero', {\n  direction: 'horizontal',\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  navigation: {\n    nextEl: '.js-hero-slider-forward',\n    prevEl: '.js-hero-slider-prev',\n  },\n  autoplay: {\n    delay: 5000,\n    disableOnInteraction: false,\n  },\n  speed: 1000,\n\n  spaceBetween: 24,\n});\n","const hiddenEls = document.querySelectorAll(\n  '.location-hidden, .location-hidden-side'\n);\n\nconst observer = new IntersectionObserver(\n  entries => {\n    entries.forEach(entry => {\n      const el = entry.target;\n\n      if (entry.intersectionRatio > 0.5) {\n        if (el.classList.contains('location-hidden')) {\n          el.classList.add('location-show');\n        }\n        if (el.classList.contains('location-hidden-side')) {\n          el.classList.add('location-show-side');\n        }\n      } else {\n        if (el.classList.contains('location-hidden')) {\n          el.classList.remove('location-show');\n        }\n        if (el.classList.contains('location-hidden-side')) {\n          el.classList.remove('location-show-side');\n        }\n      }\n    });\n  },\n  {\n    threshold: 0.5,\n  }\n);\n\nhiddenEls.forEach(el => observer.observe(el));\n","import axios from 'axios';\nexport const sendDataToBackEnd = async (data, dataid) => {\n  const { name, email, message } = data;\n  try {\n    const response = await axios.post(\n      'https://test-server-fortg.onrender.com/send-message',\n      {\n        dataid,\n        name,\n        email,\n        message,\n      }\n    );\n  } catch (error) {\n    console.error('Помилка при надсиланні:', error);\n    throw error;\n  }\n};\n\nexport const sendCartDataToBackEnd = async arr => {\n  try {\n    const response = await axios.post(\n      'https://test-server-fortg.onrender.com/cart',\n\n      arr\n    );\n  } catch (error) {\n    console.error('Помилка при надсиланні:', error);\n    throw error;\n  }\n};\n","import { sendDataToBackEnd } from './backend-api';\nimport { hideLoader, showLoader } from './common';\nimport { showToast } from './common';\n\nconst refs = {\n  openFormModal: document.querySelectorAll('.register-btn'),\n  formBackdrop: document.querySelector('#modalContacts'),\n  closeBtnModal: document.querySelector('.modal-form-close'),\n  formList: document.querySelector('.form-box'),\n  inputName: document.querySelector('[data-name]'),\n  inputEmail: document.querySelector('[data-email]'),\n  inputArea: document.querySelector('[data-area]'),\n  submitBtnModal: document.querySelector('.form-btn-submit'),\n  titleEventSection: document.querySelectorAll('.event-subhead'),\n  titleEventModal: document.querySelector('.modal-form-subscription'),\n};\n\n// ! OPEN / CLOSE MODAL\nconst closeBtn = () => {\n  closeModal();\n};\n\nconst closeEscape = e => {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n};\n\nconst closeBackdrop = e => {\n  if (e.target === refs.formBackdrop) {\n    closeModal();\n  }\n};\n\nfunction addEventListeners() {\n  refs.closeBtnModal.addEventListener('click', closeModal);\n  refs.formBackdrop.addEventListener('click', closeBackdrop);\n  document.addEventListener('keydown', closeEscape);\n}\n\nfunction removeEventListeners() {\n  refs.closeBtnModal.removeEventListener('click', closeModal);\n  refs.formBackdrop.removeEventListener('click', closeBackdrop);\n  document.removeEventListener('keydown', closeEscape);\n}\n\nfunction openModal(e) {\n  const btn = e.currentTarget;\n  transferEventTitle(btn);\n  refs.formBackdrop.classList.add('show-modal');\n  document.body.classList.add('modal-open');\n  addEventListeners();\n}\n\nfunction closeModal() {\n  refs.formBackdrop.classList.remove('show-modal');\n  document.body.classList.remove('modal-open');\n  removeEventListeners();\n}\n\n// !!! LISTENER\nrefs.openFormModal.forEach(btn => {\n  btn.addEventListener('click', openModal);\n});\n\nrefs.closeBtnModal.addEventListener('click', closeBtn);\n\ndocument.addEventListener('keydown', closeEscape);\n\ndocument.addEventListener('click', closeBackdrop);\n\n// ! TITLE\nfunction transferEventTitle(btn) {\n  const eventCard = btn.closest('.event-card');\n  const titleElement = eventCard\n    ? eventCard.querySelector('.event-subhead')\n    : null;\n\n  if (titleElement) {\n    const titleText = titleElement.textContent;\n\n    refs.titleEventModal.textContent = titleText;\n  }\n}\n\n// ! LOCAL STORAGE\n\nfunction saveToLocalStorage() {\n  const formData = {\n    name: refs.inputName.value.trim(),\n    email: refs.inputEmail.value.trim(),\n    message: refs.inputArea.value.trim(),\n  };\n\n  localStorage.setItem('contactFormData', JSON.stringify(formData));\n}\n\nfunction loadFromLocalStorage() {\n  const savedData = localStorage.getItem('contactFormData');\n\n  if (savedData) {\n    const parsedData = JSON.parse(savedData);\n\n    refs.inputName.value = parsedData.name || '';\n    refs.inputEmail.value = parsedData.email || '';\n    refs.inputArea.value = parsedData.message || '';\n  }\n}\n\nrefs.formList.addEventListener('input', saveToLocalStorage);\nloadFromLocalStorage();\n\n// !! SUBMIT BTN\nrefs.formList.addEventListener('submit', async e => {\n  e.preventDefault();\n  const formDataId = e.currentTarget.previousElementSibling.textContent;\n\n  const formData = {\n    name: refs.inputName.value.trim(),\n    email: refs.inputEmail.value.trim(),\n    message: refs.inputArea.value.trim() || 'No message typed', // required on backend\n  };\n\n  try {\n    refs.submitBtnModal.disabled = true;\n    showLoader();\n    await sendDataToBackEnd(formData, formDataId);\n\n    localStorage.removeItem('contactFormData');\n    refs.formList.reset();\n    showToast('Thank you, our manager will contact you!', 'success');\n  } catch (error) {\n    showToast('Something went wrong. Please try again later.');\n  } finally {\n    hideLoader();\n    closeModal();\n    refs.submitBtnModal.disabled = false;\n  }\n});\n","import { showLoader, showToast, hideLoader } from './common';\nimport { sendCartDataToBackEnd } from './backend-api';\n\n// ===== КОРЗИНА =====\nconst CART_KEY = 'cart-items';\n\nconst cartBtn = document.querySelector('.header-cart .button-secondary');\nconst cartCount = document.querySelector('.cart-count');\nconst cartModalBackdrop = document.querySelector('.modal-cart-backdrop');\nconst cartModal = document.querySelector('.modal-cart');\nconst cartList = document.querySelector('.modal-cart-list');\nconst cartTotalSum = document.querySelector('.cart-total-sum');\nconst cartOrderBtn = document.querySelector('.modal-cart-order');\nconst cartClearBtn = document.querySelector('.modal-cart-clear');\nconst cartCloseBtn = document.querySelector('.modal-cart-close');\n\nfunction getCart() {\n  return JSON.parse(localStorage.getItem(CART_KEY)) || [];\n}\nfunction setCart(items) {\n  localStorage.setItem(CART_KEY, JSON.stringify(items));\n}\nfunction updateCartCount() {\n  const items = getCart();\n  const count = items.reduce((sum, item) => sum + item.qty, 0);\n  cartCount.textContent = count;\n  cartCount.style.display = count > 0 ? 'inline-block' : 'none';\n}\nfunction updateCartModal() {\n  const items = getCart();\n  cartList.innerHTML = '';\n  let total = 0;\n  if (items.length === 0) {\n    cartList.innerHTML =\n      '<li style=\"text-align:center;\">The cart is empty</li>';\n  } else {\n    items.forEach(item => {\n      total += item.price * item.qty;\n      const li = document.createElement('li');\n      li.className = 'modal-cart-item';\n      li.innerHTML = `\n        <span class=\"modal-cart-item-title\">${item.title}</span>\n        <span class=\"modal-cart-item-qty\">  ${item.qty} ${\n        item.qty > 1 ? 'items' : 'item'\n      }</span>\n        <span class=\"modal-cart-item-price\">${item.price} $</span>\n        <span><button class=\"modal-cart-item-remove\" data-id=\"${\n          item.id\n        }\" title=\"Remove\">Remove</button></span>\n      `;\n      cartList.appendChild(li);\n    });\n  }\n  cartTotalSum.textContent = total + ' $';\n}\nfunction openCartModal() {\n  cartModalBackdrop.classList.add('show');\n  document.body.classList.add('modal-open');\n  updateCartModal();\n}\nfunction closeCartModal() {\n  cartModalBackdrop.classList.remove('show');\n  document.body.classList.remove('modal-open');\n}\nfunction addToCart({ id, title, price, qty = 1 }) {\n  const items = getCart();\n  const idx = items.findIndex(i => i.id === id);\n  if (idx > -1) {\n    items[idx].qty += qty;\n  } else {\n    items.push({ id, title, price, qty });\n  }\n  setCart(items);\n  updateCartCount();\n}\nfunction removeFromCart(id) {\n  let items = getCart();\n  items = items.filter(i => i.id !== id);\n  setCart(items);\n  updateCartCount();\n  updateCartModal();\n}\nfunction clearCart() {\n  setCart([]);\n  updateCartCount();\n  updateCartModal();\n}\nasync function orderCart() {\n  try {\n    cartOrderBtn.disabled = true;\n    const cartItems = getCart();\n    if (cartItems.length === 0) {\n      showToast('Cart is empty', 'info');\n      return;\n    }\n    showLoader();\n    await sendCartDataToBackEnd(cartItems);\n    showToast('Order is complete, thank you!', 'success');\n    clearCart();\n    updateCartModal();\n  } catch (error) {\n    showToast('Something went wrong');\n  } finally {\n    hideLoader();\n    closeCartModal();\n    cartOrderBtn.disabled = false;\n  }\n}\n// ====== EVENTS ======\ncartBtn.addEventListener('click', openCartModal);\ncartCloseBtn.addEventListener('click', closeCartModal);\ncartModalBackdrop.addEventListener('click', e => {\n  if (e.target === cartModalBackdrop) closeCartModal();\n});\ncartList.addEventListener('click', e => {\n  if (e.target.classList.contains('modal-cart-item-remove')) {\n    removeFromCart(e.target.dataset.id);\n  }\n});\ncartClearBtn.addEventListener('click', clearCart);\ncartOrderBtn.addEventListener('click', orderCart);\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && cartModalBackdrop.classList.contains('show'))\n    closeCartModal();\n});\n// ===== INIT =====\nupdateCartCount();\n\n// ===== Додавання до корзини з інших модулів =====\nwindow.addToCart = addToCart;\n\n///\n\n// Додаємо обробник на кнопки \"До корзини\"\ndocument.querySelectorAll('.modal-books-add').forEach(btn => {\n  btn.addEventListener('click', e => {\n    const { id, title, price, qty } = btn.dataset;\n    window.addToCart({ id, title, price: Number(price), qty: Number(qty) });\n    showToast(`\"${title}\" added to cart!`, 'success');\n  });\n});\n"],"names":["refs","listOfCategories","document","querySelector","booksPerPage","bookCard","showMoreBtn","pageEl","accBtn","accContent","async","getDataOnRequest","urlApi","axios","get","data","renderBooks","books","markup","map","book_image","price","title","author","description","rank","_id","join","refs$3","insertAdjacentHTML","defaults","baseURL","seeNextBooks","classList","hideLoadMoreButton","add","windowWidth","window","innerWidth","showToast","message","type","iziToast","position","maxWidth","scrollUpBtn","addEventListener","scrollTrigger","innerHeight","scrollY","remove","scrollTo","top","behavior","loaderEl","hideLoader","showLoader","accordion","Accordion","duration","showMultiple","modal","backdrop","input","modalBooksTextWrapper","bookPhotoWrapper","accordionDetails","addToCartBtn","handleModalBookClick","event","target","action","dataset","cartData","productId","quantity","parseInt","value","localStorage","setItem","JSON","stringify","removeItem","contains","updateQuantity","closest","handleEscKey","e","key","closeModal","refs$2","body","removeEventListener","handleInputOnlyNumbers","handleInputBlur","change","currentValue","newValue","Math","max","min","qty","replace","accIcon","categoriesOfTopBooks","originalBooks","visibleBooks","page","totalPages","totalCards","loadedCards","booksCategories","setBooksPerPage","width","extractBooks","bookData","removeDuplicateBooks","flatMap","seenTitles","Set","uniqueBooks","filter","book","has","length","warning","paginateBooks","rawBooksData","ceil","start","end","slice","textContent","info","innerHTML","scrollByUp","allCards","querySelectorAll","rect","getBoundingClientRect","targetScrollY","height","prev","toggle","li","trim","params","axiosOptions","category","getBooksByCategory","btn","bookId","id","bookById","bookImage","imageData","modalBookText","fillDataModalBook","closeAll","error","console","categories","list_name","renderCategories","topBooksRaw","initPage","Swiper","direction","slidesPerView","spaceBetween","keyboard","enabled","onlyInViewport","navigation","nextEl","prevEl","pagination","el","clickable","a11y","slideRole","breakpoints","feedbacksData","text","avatar1x","avatar2x","avatarWebp1x","avatarWebp2x","rating","subscription","feedbackSwiper","attachOverlays","isUserInteracting","mqlTablet","matchMedia","mqlDesktop","forEach","card","wrapper","block","textEl","overlay","ovText","timer","isOpen","resetUserInteracting","allowTouchMove","allowSlideNext","allowSlidePrev","_a","autoplay","openOverlay","stop","setAttribute","style","display","fullText","idx","clone","cloneNode","Object","assign","visibility","left","webkitLineClamp","overflow","parentNode","appendChild","low","high","maxH","clientHeight","mid","scrollHeight","getTruncateIndex","measure","marker","createElement","className","cardRect","mRect","setProperty","visiblePart","hiddenPart","whiteSpace","wordBreak","i","step","setTimeout","totalDelay","closeOverlay","final","clearTimeout","onMobile","onTablet","onDesktop","relatedTarget","applyMode","matches","addListener","slide","renderFeedbackSlides","array","j","floor","random","shuffleArray","speed","delay","disableOnInteraction","dynamicBullets","disabledClass","prevSlideMessage","nextSlideMessage","on","paginationUpdate","bullet","removeAttribute","requestAnimationFrame","Rater","element","parseFloat","readOnly","starSize","showToolTip","form","validationMessage","copyYear","COPYRIGHT_START_YEAR","handleInputValidation","clearError","preventDefault","email","FormData","validity","valid","reset","warn","currentYear","Date","getFullYear","openBtn","closeBtn","mobileMenu","mobileNavLinks","desktopNavLinks","refs$1","link","hiddenEls","observer","IntersectionObserver","entries","entry","intersectionRatio","threshold","observe","openFormModal","formBackdrop","closeBtnModal","formList","inputName","inputEmail","inputArea","submitBtnModal","titleEventSection","titleEventModal","closeEscape","closeBackdrop","openModal","eventCard","titleElement","titleText","transferEventTitle","currentTarget","formData","name","savedData","getItem","parsedData","parse","loadFromLocalStorage","formDataId","previousElementSibling","disabled","dataid","post","sendDataToBackEnd","CART_KEY","cartBtn","cartCount","cartModalBackdrop","cartList","cartTotalSum","cartOrderBtn","cartClearBtn","cartCloseBtn","getCart","setCart","items","updateCartCount","count","reduce","sum","item","updateCartModal","total","closeCartModal","clearCart","removeFromCart","cartItems","arr","sendCartDataToBackEnd","addToCart","findIndex","push","Number"],"mappings":"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"}