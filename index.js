import{a as e,i as t,A as o,S as n,R as a}from"./assets/vendor-EE8R5gjl.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s={listOfCategories:document.querySelector(".js-categories-list"),booksPerPage:document.querySelector("js-books-per-page"),bookCard:document.querySelector(".js-books-list"),showMoreBtn:document.querySelector(".js-show-more-btn"),pageEl:document.querySelector(".js-books-per-page"),accBtn:document.querySelector(".js-accordion-btn"),accContent:document.querySelector(".js-accordion-content")};async function i(t){return(await e.get(t)).data}function r(e){const t=e.map(({book_image:e,price:t,title:o,author:n,description:a,rank:s,_id:i})=>`\n      <li class="book-card js-book-card">\n        <img\n          src='${e}'\n          alt="${o}"\n          class="book-card-image"\n        />\n        <div class="book-description">\n          <div class="book-details">\n            <div class="book-info">\n              <p class="book-title">${o}</p>\n              <p class="book-autor">${n}</p>\n            </div>\n            <p class="book-price">$${t}</p>\n          </div>\n          <button class="book-info-btn js-book-info-btn" data-id=${i} >Learn More</button>\n        </div>\n      </li>\n      `).join("");s.bookCard.insertAdjacentHTML("beforeend",t)}e.defaults.baseURL="https://books-backend.p.goit.global/";const l=s.showMoreBtn.classList,c=()=>l.add("is-hidden"),d=window.innerWidth;function u(e,o="error"){t[o]({message:e,position:d<768?"center":"topRight",maxWidth:d<432?300:400})}const m=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{const e=1.5*window.innerHeight;window.scrollY>e?m.classList.add("show"):m.classList.remove("show")}),m.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const p=new o(".modal-books-accordion-container",{duration:400,showMultiple:!0}),v={modal:document.querySelector(".modal-books"),backdrop:document.querySelector(".modal-books-backdrop"),input:document.querySelector(".quantity-selector-quantity-input"),modalBooksTextWrapper:document.querySelector(".modal-books-text-wrapper"),bookPhotoWrapper:document.querySelector(".modal-book-photo-wrapper"),accordionDetails:document.querySelector(".js-ac-text-details")},h=e=>{const t=e.target,o=t.dataset.action;if("add-to-cart"===o){const e=parseInt(v.input.value)||1,t={productId:"Books",quantity:e};return localStorage.setItem("cart-item",JSON.stringify(t)),void u(`Книгу додано у кошик: ${e} шт.`,"success")}if("buy-now"===o)return u("Дякуємо за покупку","success"),void localStorage.removeItem("cart-item");t.classList.contains("quantity-selector-decrease")?y(-1):t.classList.contains("quantity-selector-increase")?y(1):t!==v.backdrop?t.closest(".modal-books-button")&&b():b()};v.backdrop.addEventListener("click",h);const g=e=>{"Escape"===e.key&&v.backdrop.classList.contains("show-modal")&&b()},b=()=>{v.backdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",g),v.backdrop.removeEventListener("click",h),v.input.removeEventListener("input",f),v.input.removeEventListener("blur",k)},y=e=>{const t=parseInt(v.input.value)||1,o=Math.max(1,Math.min(10,t+e));v.input.value=o},f=e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")},k=e=>{const t=parseInt(e.target.value)||1;e.target.value=Math.max(1,Math.min(10,t))};const L=document.querySelector(".js-accordion-btn"),w=document.querySelector(".js-accordion-content"),x=s.accBtn.querySelector(".books-acc-icon"),E="books/top-books/";let S=[],j=[],q=1,M=null,B=10,C=null,$=null,_=null;function T(){const e=window.innerWidth;B=e<768?10:24}function I(e){return N(e.flatMap(({books:e})=>e))}function N(e){const o=new Set,n=e.filter(e=>!o.has(e.title)&&(o.add(e.title),!0));if(0!==n.length)return n;t.warning({message:"No books available to display.",position:"topRight"})}function A(e){c(),0===S.length&&(S=e,C=S.length,M=Math.ceil((S.length-B)/4)+1,M<1&&(M=1));let o=null,n=null;if(M>q?(1===q?(o=(q-1)*B,n=o+B):(o=$,n=o+4),j=S.slice(o,n)):(o=$,n=S.length,j=S.slice(o,n),S=[]),$+=j.length,s.pageEl.textContent=`Showing ${$} of ${C}`,0===S.length)return q>1&&t.info({message:"Sorry, you have viewed all the books in this category.",position:"topRight"}),D(),r(j),j=[],q=1,M=null,C=null,void($=null);1===q&&(s.bookCard.innerHTML=""),$!=B&&D(),r(j),q++,l.remove("is-hidden")}function D(){const e=document.querySelectorAll(".js-book-card");if(0===e.length)return;const t=e[e.length-1].getBoundingClientRect(),o=t.top+t.height+window.scrollY;window.scrollTo({top:o,behavior:"smooth"})}c(),window.addEventListener("resize",()=>{const e=B;T(),B!==e&&S.length>0&&(q=1,j=[],$=null,A(S))});L.addEventListener("click",()=>{w.classList.toggle("open"),x.classList.toggle("rotate")}),document.addEventListener("click",e=>{!(w.contains(e.target)||L.contains(e.target))&&w.classList.contains("open")&&(w.classList.remove("open"),x.classList.remove("rotate"))}),s.showMoreBtn.addEventListener("click",()=>{A()}),s.listOfCategories.addEventListener("click",async t=>{const o=t.target.closest(".js-category-item");if(!o)return;let n=null;if(_=o.textContent.trim(),"All categories"===_){n=I(await i(E))}else{n=N(await async function(t,o){const n={params:{category:o}};return(await e.get(t,n)).data}("books/category/",_))}q=1,M=null,S=[],j=[],C=null,$=null,s.bookCard.innerHTML="",w.classList.remove("open"),x.classList.remove("rotate"),A(n)}),s.bookCard.addEventListener("click",async function(e){const t=e.target.closest(".js-book-info-btn");if(!t)return;const o=t.dataset.id;if(!o)return;const n=`books/${o}`;try{!function({book_image:e,title:t,description:o,price:n,author:a}){const s=`\n    <img\n            src="${e||"https://placehold.co/309x466/png?text=No+image"}"\n            alt="${t||"Без назви"}" \n            class="modal-books-img"\n          />\n  `;v.bookPhotoWrapper.innerHTML=s;const i=`\n            <h2 class="modal-books-title">${t||"Без назви"}</h2>\n            <p class="modal-books-text">${a||"Невідомий автор"}</p>\n            <p class="modal-books-price">${n?n+"$":"Ціна не вказана"}</p>\n         `;v.modalBooksTextWrapper.innerHTML=i,v.accordionDetails.textContent=o||"No description"}(await i(n)),v.input.value="1",p.closeAll(),v.backdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),document.addEventListener("keydown",g),v.backdrop.addEventListener("click",h),v.input.addEventListener("input",f),v.input.addEventListener("blur",k)}catch(a){console.error("Ошибка загрузки книги по ID:",a.message)}}),async function(){try{!function(e){const t=e.map(({list_name:e})=>`\n      <li class="category-item js-category-item">\n        ${e}\n      </li>\n      `).join("");s.listOfCategories.insertAdjacentHTML("beforeend",t)}(await i("books/category-list/"));const e=await i(E);if(!e||!e.length)return void t.warning({message:"Sorry, there are currently no books in this category. Please contact us later.",position:"topRight"});const o=I(e);T(),A(o)}catch(e){console.error("Ошибка при инициализации страницы:",e.message)}}(),new n(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},a11y:{enabled:!0,slideRole:""},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}});const P=[{text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",author:"Jane Doe",position:"Book Lover, Reader",avatar1x:"/development-hell-02/assets/jane_doe-BMQ-xRsd.jpg",avatar2x:"/development-hell-02/assets/jane_doe@2x-zcSlIbLy.jpg",rating:4.8,subscription:"gold"},{text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",author:"John Smith",position:"Editor, BookMag",avatar1x:"/development-hell-02/assets/john_smith-Ci_0vTWv.jpg",avatar2x:"/development-hell-02/assets/john_smith@2x-DDsTXLv-.jpg",rating:4.6,subscription:null},{text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",author:"Emily Johnson",position:"Author, Novelist",avatar1x:"/development-hell-02/assets/emily_johnson-Cbkcq2d1.jpg",avatar2x:"/development-hell-02/assets/emily_johnson@2x-Cvl5ztO_.jpg",rating:4.9,subscription:"gold"},{text:"Such a lovely experience shopping here. The recommendations are always on point!",author:"Sofia Lee",position:"Literature Professor",avatar1x:"/development-hell-02/assets/sofia_lee-CX_hethO.jpg",avatar2x:"/development-hell-02/assets/sofia_lee@2x-Cgr7awEi.jpg",rating:4.7,subscription:null},{text:"I’ve discovered so many hidden gems thanks to this store. The reviews really help!",author:"Carlos Mendez",position:"Blogger, Read & Roam",avatar1x:"/development-hell-02/assets/carlos_mendez-BSK00tr3.jpg",avatar2x:"/development-hell-02/assets/carlos_mendez@2x-DbLWKenR.jpg",rating:4.5,subscription:"silver"},{text:"As a parent, I appreciate the kid-friendly book sections. My son loves everything we order!",author:"Natalie Brooks",position:"Mother & Teacher",avatar1x:"/development-hell-02/assets/natalie_brooks-D_79rjIz.jpg",avatar2x:"/development-hell-02/assets/natalie_brooks@2x-D4AXXMhn.jpg",rating:4.6,subscription:null},{text:"The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.",author:"David Nguyen",position:"Graphic Designer",avatar1x:"/development-hell-02/assets/david_nguyen-hOS68mGQ.jpg",avatar2x:"/development-hell-02/assets/david_nguyen@2x-CyEuSXY5.jpg",rating:4.7,subscription:null},{text:"Fast shipping and top-notch service, with timely updates throughout delivery. I’ll definitely be back for more!",author:"Aisha Patel",position:"Marketing Specialist",avatar1x:"/development-hell-02/assets/aisha_patel-BOQJ_tzB.jpg",avatar2x:"/development-hell-02/assets/aisha_patel@2x-D26z7UBM.jpg",rating:4.8,subscription:"gold"},{text:"Their children’s book selection is unbeatable. My daughter can’t wait for the next delivery!",author:"Michael Thompson",position:"Pediatric Nurse",avatar1x:"/development-hell-02/assets/michael_thompson-BYZwjKIc.jpg",avatar2x:"/development-hell-02/assets/michael_thompson@2x-E4zL0xlX.jpg",rating:4.5,subscription:"silver"}];document.addEventListener("DOMContentLoaded",()=>{!function(e){const t=document.querySelector(".swiper-feedback-wrapper");t.innerHTML="",e.forEach(({text:e,author:o,position:n,avatar1x:a,avatar2x:s,rating:i,subscription:r})=>{const l=document.createElement("li");l.className="swiper-slide feedback-card",l.innerHTML=`\n  <blockquote class="feedback-text">${e}</blockquote>\n  <div class="feedback-meta">\n    <div class="feedback-rating" data-rating="${i}"></div>\n    ${r?`<div class="badge badge--${r}">\n             <svg class="icon-verified"><use xlink:href="#icon-verified"/></svg>\n             Verified\n           </div>`:'<div class="badge badge--unverified">Unverified</div>'}\n  </div>\n  <div class="feedback-author-wrapper">\n    <img\n      src="${a}"\n      srcset="${a} 1x, ${s} 2x"\n      alt="${o}"\n      width="48" height="48"\n      loading="lazy"\n    />\n    <div class="author-details">\n      <h3 class="author-name">${o}</h3>\n      <p>${n}</p>\n    </div>\n  </div>\n`,t.appendChild(l)})}(P),function(){const e=new n(".feedbacks-slider",{slidesPerView:1,spaceBetween:24,speed:600,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".button-nav.prev",nextEl:".button-nav.next",disabledClass:"button-nav--disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Previous feedback",nextSlideMessage:"Next feedback"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});document.querySelectorAll(".feedback-rating").forEach(e=>{new a({element:e,max:5,step:.1,rating:parseFloat(e.dataset.rating),readOnly:!0,starSize:14,showToolTip:!1})}),e.el.addEventListener("mouseenter",()=>{var t;return null==(t=e.autoplay)?void 0:t.stop()}),e.el.addEventListener("mouseleave",()=>{var t;return null==(t=e.autoplay)?void 0:t.start()}),e.el.addEventListener("focusin",()=>{var t;return null==(t=e.autoplay)?void 0:t.stop()}),e.el.addEventListener("focusout",()=>{var t;return null==(t=e.autoplay)?void 0:t.start()})}()});const O=document.querySelector(".footer-join-form"),R=document.querySelector(".footer-form-validation"),z=document.querySelector(".footer-email"),F=document.querySelector("#copy-year"),H=2025;function V(){W("* Required field")}function W(e){R.textContent=e,R.classList.remove("color-error"),z.classList.remove("error")}O&&R&&z?O.addEventListener("submit",function(e){e.preventDefault(),z.addEventListener("input",V);const t=new FormData(O).get("footer-email").trim();if(!t||!z.validity.valid)return o="Please enter a valid email address",R.textContent=o,R.classList.add("color-error"),void z.classList.add("error");var o;W("* Required field"),u(`Thank you for subscribing with <b>${t}</b>`,"success"),O.reset(),z.removeEventListener("input",V)}):console.warn("Form or input elements not found.");const J=(new Date).getFullYear();F.textContent=J>H?`2025-${J}`:H;const X={openBtn:document.querySelector(".mobile-menu-open-btn"),closeBtn:document.querySelector(".mobile-menu-close-btn"),mobileMenu:document.querySelector(".mobile-menu"),mobileNavLinks:document.querySelectorAll(".mobile-menu-page-link"),desktopNavLinks:document.querySelectorAll(".page-menu-link"),body:document.body};X.openBtn.addEventListener("click",()=>{X.mobileMenu.classList.add("is-open"),X.body.classList.add("modal-open")}),X.closeBtn.addEventListener("click",()=>{X.mobileMenu.classList.remove("is-open"),X.body.classList.remove("modal-open")}),X.mobileNavLinks.forEach(e=>{e.addEventListener("click",()=>{X.mobileMenu.classList.remove("is-open"),X.body.classList.remove("modal-open")})}),new n(".swiper-hero",{direction:"horizontal",keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-hero-slider-forward",prevEl:".js-hero-slider-prev"},autoplay:{delay:5e3,disableOnInteraction:!1},speed:1e3,spaceBetween:24});const Y=document.querySelectorAll(".location-hidden, .location-hidden-side"),K=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;e.intersectionRatio>.5?(t.classList.contains("location-hidden")&&t.classList.add("location-show"),t.classList.contains("location-hidden-side")&&t.classList.add("location-show-side")):(t.classList.contains("location-hidden")&&t.classList.remove("location-show"),t.classList.contains("location-hidden-side")&&t.classList.remove("location-show-side"))})},{threshold:.5});Y.forEach(e=>K.observe(e));const G={openFormModal:document.querySelectorAll(".register-btn"),formBackdrop:document.querySelector("#modalContacts"),closeBtnModal:document.querySelector(".modal-form-close"),formList:document.querySelector(".form-box"),inputName:document.querySelector("[data-name]"),inputEmail:document.querySelector("[data-email]"),inputArea:document.querySelector("[data-area]"),submitBtnModal:document.querySelector(".form-btn-submit"),titleEventSection:document.querySelectorAll(".event-subhead"),titleEventModal:document.querySelector(".modal-form-subscription")},Q=e=>{"Escape"===e.key&&ee()},U=e=>{e.target===G.formBackdrop&&ee()};function Z(e){!function(e){const t=e.closest(".event-card"),o=t?t.querySelector(".event-subhead"):null;if(o){const e=o.textContent;G.titleEventModal.textContent=e}}(e.currentTarget),G.formBackdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),G.closeBtnModal.addEventListener("click",ee),G.formBackdrop.addEventListener("click",U),document.addEventListener("keydown",Q)}function ee(){G.formBackdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),G.closeBtnModal.removeEventListener("click",ee),G.formBackdrop.removeEventListener("click",U),document.removeEventListener("keydown",Q)}G.openFormModal.forEach(e=>{e.addEventListener("click",Z)}),G.closeBtnModal.addEventListener("click",()=>{ee()}),document.addEventListener("keydown",Q),document.addEventListener("click",U),G.formList.addEventListener("input",function(){const e={name:G.inputName.value.trim(),email:G.inputEmail.value.trim(),message:G.inputArea.value.trim()};localStorage.setItem("contactFormData",JSON.stringify(e))}),function(){const e=localStorage.getItem("contactFormData");if(e){const t=JSON.parse(e);G.inputName.value=t.name||"",G.inputEmail.value=t.email||"",G.inputArea.value=t.message||""}}(),G.formList.addEventListener("submit",async o=>{o.preventDefault(),ee();const n=o.currentTarget.previousElementSibling.textContent,a={name:G.inputName.value.trim(),email:G.inputEmail.value.trim(),message:G.inputArea.value.trim()||"No messege typed"};return await(async(t,o)=>{const{name:n,email:a,message:s}=t;try{const t=await e.post("https://test-server-fortg.onrender.com/send-message",{dataid:o,name:n,email:a,message:s});console.log("Відповідь сервера:",t.data)}catch(i){console.error("Помилка при надсиланні:",i)}})(a,n),localStorage.removeItem("contactFormData"),G.formList.reset(),t.info({message:"Thank you, our manager will contact you!",position:"center"})});
//# sourceMappingURL=index.js.map
