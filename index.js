import{a as S,A as I,i as b,S as B}from"./assets/vendor-1g1wcqc_.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();console.log("Article script loaded");const c={listOfCategories:document.querySelector(".js-categories-list"),booksPerPage:document.querySelector("js-books-per-page"),bookCard:document.querySelector(".js-books-list"),showMoreBtn:document.querySelector(".js-show-more-btn"),pageEl:document.querySelector(".js-books-per-page")};S.defaults.baseURL="https://books-backend.p.goit.global/";async function f(e){return(await S.get(e)).data}async function H(e,o){const t={params:{category:o}};return(await S.get(e,t)).data}function Y(e){const o=e.map(({list_name:t})=>`
      <li class="category-item js-category-item">
        ${t.trim()===""?"No Category":t}
      </li>
      `).join("");c.listOfCategories.insertAdjacentHTML("beforeend",o)}function x(e){const o=e.map(({book_image:t,price:s,title:n,author:a,description:u,rank:h,_id:z})=>`
      <li class="book-card js-book-card">
        <img
          src='${t}'
          alt="${n}"
          class="book-card-image"
        />
        <div class="book-description">
          <div class="book-details">
            <div class="book-info">
              <h4 class="book-title">${n}</h4>
              <p class="book-autor">${a}</p>
            </div>
            <p class="book-price">$${s}</p>
          </div>
          <button class="book-info-btn js-book-info-btn" data-id=${z} >Learn More</button>
        </div>
      </li>
      `).join("");c.bookCard.insertAdjacentHTML("beforeend",o)}const O=c.showMoreBtn.classList,F=()=>O.remove("is-hidden"),_=()=>O.add("is-hidden"),G=new I(".js-accordion-container",{duration:1e3,showMultiple:!0}),J="books/category-list/",D="books/top-books/",U="books/category/";let r=[],l=[],d=1,i=10,C=null,m=null,y=null;_();async function W(){try{const e=await f(J);Y(e);const o=await f(D);if(!o||!o.length){b.warning({message:"Sorry, there are currently no books in this category. Please contact us later.",position:"topRight"});return}const t=A(o);R(),k(t)}catch(e){console.error("Ошибка при инициализации страницы:",e.message)}}function R(){window.innerWidth<768?i=10:i=24}window.addEventListener("resize",()=>{const e=i;R(),i!==e&&r.length>0&&(d=1,l=[],k(r))});function A(e){const o=e.flatMap(({books:t})=>t);return $(o)}function $(e){const o=new Set,t=e.filter(s=>o.has(s.title)?!1:(o.add(s.title),!0));if(t.length===0){b.warning({message:"No books available to display.",position:"topRight"});return}return t}function k(e){_(),r.length===0&&(r=e,C=r.length);const o=Math.ceil(r.length/i);if(m%i!=0&&(d=1,m=0,l=[],X()),o>d){const t=(d-1)*i,s=t+i;l=r.slice(t,s)}else{const t=(d-1)*i,s=r.length;l=r.slice(t,s),r=[]}if(m+=l.length,c.pageEl.textContent=`Showing ${m} of ${C}`,l.length<i||r.length===0){M(),x(l),l=[],d=1,b.info({message:"Sorry, all books in this category are displayed. Please look at books in another category.",position:"topRight"});return}d===1&&(c.bookCard.innerHTML=""),m!=i&&M(),x(l),d++,F()}async function K(e){const o=e.target.closest(".js-book-info-btn");if(!o)return;console.log("click");const t=o.dataset.id;if(!t)return;const s=`/books/${t}`;console.log(s);try{const n=await f(s);console.log(n)}catch(n){console.error("Ошибка загрузки книги по ID:",n.message)}}function M(){const e=document.querySelectorAll(".js-book-card");if(e.length===0)return;const t=e[e.length-1].getBoundingClientRect(),s=t.top+t.height+window.scrollY;window.scrollTo({top:s,behavior:"smooth"})}const Q=async e=>{const o=e.target.closest(".js-category-item");if(!o)return;let t=null;if(y=o.textContent.trim(),y==="All categories"){const s=await f(D);t=A(s)}else{const s=await H(U,y);t=$(s)}console.log(t.length),d=1,r=[],l=[],c.bookCard.innerHTML="",G.close(0),k(t)};function X(){c.bookCard.innerHTML=""}c.showMoreBtn.addEventListener("click",()=>{k()});c.listOfCategories.addEventListener("click",Q);c.bookCard.addEventListener("click",K);W();document.querySelector(".js-modal-books-buy");new I(".modal-books-accordion-container",{duration:400,showMultiple:!0});new B(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}});const Z="/development-hell-02/assets/jane_doe-BMQ-xRsd.jpg",ee="/development-hell-02/assets/john_smith-Ci_0vTWv.jpg",te="/development-hell-02/assets/emily_johnson-Cbkcq2d1.jpg",oe="/development-hell-02/assets/sofia_lee-CX_hethO.jpg",se="/development-hell-02/assets/carlos_mendez-BSK00tr3.jpg",ne="/development-hell-02/assets/natalie_brooks-D_79rjIz.jpg",ae="/development-hell-02/assets/david_nguyen-hOS68mGQ.jpg",re="/development-hell-02/assets/aisha_patel-BOQJ_tzB.jpg",ie="/development-hell-02/assets/michael_thompson-BYZwjKIc.jpg",le="/development-hell-02/assets/elena_garcia-KTMMVTiw.jpg",ce="/development-hell-02/assets/james_oconnor-D0_R_894.jpg",de="/development-hell-02/assets/samantha_lee-B-YRyQU5.jpg",ue=[{text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",author:"Jane Doe",position:"Book Lover, Reader",avatar:Z},{text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",author:"John Smith",position:"Editor, BookMag",avatar:ee},{text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",author:"Emily Johnson",position:"Author, Novelist",avatar:te},{text:"Such a lovely experience shopping here. The recommendations are always on point!",author:"Sofia Lee",position:"Literature Professor",avatar:oe},{text:"I’ve discovered so many hidden gems thanks to this store. The reviews really help!",author:"Carlos Mendez",position:"Blogger, Read & Roam",avatar:se},{text:"As a parent, I appreciate the kid-friendly book sections. My son loves everything we order!",author:"Natalie Brooks",position:"Mother & Teacher",avatar:ne},{text:"The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.",author:"David Nguyen",position:"Graphic Designer",avatar:ae},{text:"Fast shipping and top-notch service, with timely updates throughout delivery. I’ll definitely be back for more!",author:"Aisha Patel",position:"Marketing Specialist",avatar:re},{text:"Their children’s book selection is unbeatable. My daughter can’t wait for the next delivery!",author:"Michael Thompson",position:"Pediatric Nurse",avatar:ie},{text:"I love the author spotlights and exclusive interviews. It adds so much value to my reading experience!",author:"Elena Garcia",position:"Content Writer",avatar:le},{text:"The gift wrapping option was perfect for presents. Such a thoughtful touch and impeccable attention to detail!",author:"James O’Connor",position:"Event Planner",avatar:ce},{text:"Great loyalty program with real perks and exclusive offers. I’ve saved so much on my orders and truly feel valued!",author:"Samantha Lee",position:"Digital Strategist",avatar:de}];function pe(e){const o=document.querySelector(".swiper-feedback-wrapper");o&&(o.innerHTML="",e.forEach(({text:t,author:s,position:n,avatar:a})=>{const u=Array(5).fill(`
      <li class="feedback-rating__star">
        <svg class="icon-feedback-star" width="20" height="20">
          <use xlink:href="#star"/>
        </svg>
      </li>
    `).join(""),h=document.createElement("li");h.className="swiper-slide feedback-card",h.setAttribute("role","listitem"),h.innerHTML=`
      <blockquote class="feedback-text">${t}</blockquote>
      <ul class="feedback-rating" aria-label="Rating: 5 stars">
        ${u}
      </ul>
      <div class="feedback-author-wrapper">
        <img src="${a}" alt="${s}" width="48" height="48" loading="lazy" />
        <div class="author-details">
          <h3 class="author-name">${s}</h3>
          <p>${n}</p>
        </div>
      </div>
    `,o.appendChild(h)}))}function he(){const e=new B(".feedbacks-slider",{slidesPerView:1,spaceBetween:24,autoplay:{delay:2e3,disableOnInteraction:!1},speed:1e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".button-nav.prev",nextEl:".button-nav.next",disabledClass:"button-nav--disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Previous feedback",nextSlideMessage:"Next feedback"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}}),o=e.el;e.el.addEventListener("mouseenter",()=>{e.autoplay.stop()}),e.el.addEventListener("mouseleave",()=>{e.autoplay.start()}),o.addEventListener("focusin",()=>e.autoplay.stop()),o.addEventListener("focusout",()=>e.autoplay.start())}document.addEventListener("DOMContentLoaded",()=>{pe(ue),he()});const T=window.innerWidth;function me(e,o="error"){b[o]({message:e,position:T<768?"center":"topRight",maxWidth:T<432?300:400})}const L=document.querySelector(".scroll-up"),ge=1.5;window.addEventListener("scroll",()=>{const e=window.innerHeight*ge;window.scrollY>e?L.classList.add("show"):L.classList.remove("show")});L.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const v=document.querySelector(".footer-join-form"),g=document.querySelector(".footer-form-validation"),p=document.querySelector(".footer-email"),fe=document.querySelector("#copy-year"),w=2025;!v||!g||!p?console.warn("Form or input elements not found."):v.addEventListener("submit",ve);function ve(e){e.preventDefault(),p.addEventListener("input",q);const t=new FormData(v).get("footer-email").trim();if(!t||!p.validity.valid){be("Please enter a valid email address");return}N("* Required field"),me(`Thank you for subscribing with <b>${t}</b>`,"success"),v.reset(),p.removeEventListener("input",q)}function q(){N("* Required field")}function be(e){g.textContent=e,g.classList.add("color-error"),p.classList.add("error")}function N(e){g.textContent=e,g.classList.remove("color-error"),p.classList.remove("error")}const P=new Date().getFullYear();fe.textContent=P>w?`${w}-${P}`:w;const ke=document.querySelector(".mobile-open-menu-btn"),ye=document.querySelector(".mobile-menu-close-btn"),E=document.querySelector(".mobile-menu"),we=document.querySelectorAll(".mobile-page-menu-link"),Le=document.querySelectorAll(".page-menu-link"),j=document.body;ke.addEventListener("click",()=>{E.classList.add("is-open"),j.classList.add("menu-open")});ye.addEventListener("click",()=>{E.classList.remove("is-open"),j.classList.remove("menu-open")});we.forEach(e=>{e.addEventListener("click",()=>{E.classList.remove("is-open"),j.classList.remove("menu-open")})});Le.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const t=e.getAttribute("href"),s=document.querySelector(t);s&&setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},300)})});new B(".swiper-hero",{direction:"horizontal",keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-hero-slider-forward",prevEl:".js-hero-slider-prev"},autoplay:{delay:5e3,disableOnInteraction:!1},speed:1e3,spaceBetween:24});console.log("Location script loaded");const Se=document.querySelectorAll(".location-hidden"),Be=document.querySelectorAll(".location-hidden-side"),V=new IntersectionObserver(e=>{e.forEach(o=>{const t=o.target;o.isIntersecting?(t.classList.contains("location-hidden")&&t.classList.add("location-show"),t.classList.contains("location-hidden-side")&&t.classList.add("location-show-side")):(t.classList.contains("location-hidden")&&t.classList.remove("location-show"),t.classList.contains("location-hidden-side")&&t.classList.remove("location-show-side"))})});Se.forEach(e=>V.observe(e));Be.forEach(e=>V.observe(e));
//# sourceMappingURL=index.js.map
