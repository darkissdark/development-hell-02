import{a as B,i as k,A as _,S as M}from"./assets/vendor-XKtjlqKL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();const d={listOfCategories:document.querySelector(".js-categories-list"),booksPerPage:document.querySelector("js-books-per-page"),bookCard:document.querySelector(".js-books-list"),showMoreBtn:document.querySelector(".js-show-more-btn"),pageEl:document.querySelector(".js-books-per-page")};B.defaults.baseURL="https://books-backend.p.goit.global/";async function v(e){return(await B.get(e)).data}async function K(e,t){const o={params:{category:t}};return(await B.get(e,o)).data}function Q(e){const t=e.map(({list_name:o})=>`
      <li class="category-item js-category-item">
        ${o.trim()===""?"No Category":o}
      </li>
      `).join("");d.listOfCategories.insertAdjacentHTML("beforeend",t)}function T(e){const t=e.map(({book_image:o,price:s,title:n,author:a,description:p,rank:m,_id:U})=>`
      <li class="book-card js-book-card">
        <img
          src='${o}'
          alt="${n}"
          class="book-card-image"
        />
        <div class="book-description">
          <div class="book-details">
            <div class="book-info">
              <h4 class="book-title">${n}</h4>
              <p class="book-autor">${a}</p>
            </div>
            <p class="book-price">$${s}</p>
          </div>
          <button class="book-info-btn js-book-info-btn" data-id=${U} >Learn More</button>
        </div>
      </li>
      `).join("");d.bookCard.insertAdjacentHTML("beforeend",t)}const A=d.showMoreBtn.classList,X=()=>A.remove("is-hidden"),N=()=>A.add("is-hidden"),I=window.innerWidth;function S(e,t="error"){k[t]({message:e,position:I<768?"center":"topRight",maxWidth:I<432?300:400})}const E=document.querySelector(".scroll-up"),Z=1.5;window.addEventListener("scroll",()=>{const e=window.innerHeight*Z;window.scrollY>e?E.classList.add("show"):E.classList.remove("show")});E.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const ee=new _(".modal-books-accordion-container",{duration:400,showMultiple:!0}),r={modal:document.querySelector(".modal-books"),backdrop:document.querySelector(".modal-books-backdrop"),input:document.querySelector(".quantity-selector-quantity-input"),modalBooksTextWrapper:document.querySelector(".modal-books-text-wrapper"),bookPhotoWrapper:document.querySelector(".modal-book-photo-wrapper"),accordionDetails:document.querySelector(".js-ac-text-details"),accordionShipping:document.querySelector(".js-ac-text-shipping"),accordionReturns:document.querySelector(".js-ac-text-returns")},j=e=>{const t=e.target,o=t.dataset.action;if(o==="add-to-cart"){const s=parseInt(r.input.value)||1,n={productId:"Books",quantity:s};localStorage.setItem("cart-item",JSON.stringify(n)),S(`Книгу додано у кошик: ${s} шт.`,"success");return}if(o==="buy-now"){S("Дякуємо за покупку","success"),localStorage.removeItem("cart-item");return}if(t.classList.contains("quantity-selector-decrease")){P(-1);return}if(t.classList.contains("quantity-selector-increase")){P(1);return}if(t===r.backdrop){x();return}if(t.closest(".modal-books-button")){x();return}};r.backdrop.addEventListener("click",j);const V=e=>{if(e.key==="Escape"&&r.backdrop.classList.contains("show-modal")){x();return}},te=()=>{ee.closeAll(),r.backdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),document.addEventListener("keydown",V),r.backdrop.addEventListener("click",j),r.input.addEventListener("input",H),r.input.addEventListener("blur",z)},x=()=>{r.backdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",V),r.backdrop.removeEventListener("click",j),r.input.removeEventListener("input",H),r.input.removeEventListener("blur",z)},P=e=>{const t=parseInt(r.input.value)||1,o=Math.max(1,Math.min(10,t+e));r.input.value=o},H=e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")},z=e=>{const t=parseInt(e.target.value)||1;e.target.value=Math.max(1,Math.min(10,t))};function oe({book_image:e,title:t,description:o,price:s,author:n}){const a=`
    <img
            src="${e||"https://placehold.co/309x466/png?text=No+image"}"
            alt="${t||"Без назви"}" 
            class="modal-books-img"
          />
  `;r.bookPhotoWrapper.innerHTML=a;const p=`
            <h2 class="modal-books-title">${t||"Без назви"}</h2>
            <p class="modal-books-text">${n||"Невідомий автор"}</p>
            <p class="modal-books-price">${s?s+"$":"Ціна не вказана"}</p>
         `;r.modalBooksTextWrapper.innerHTML=p,r.accordionDetails.textContent=o||"No description"}const se=new _(".js-accordion-container",{duration:1e3,showMultiple:!0}),ne="books/category-list/",W="books/top-books/",ae="books/category/";let i=[],c=[],u=1,l=10,$=null,g=null,w=null;N();async function re(){try{const e=await v(ne);Q(e);const t=await v(W);if(!t||!t.length){k.warning({message:"Sorry, there are currently no books in this category. Please contact us later.",position:"topRight"});return}const o=F(t);Y(),y(o)}catch(e){console.error("Ошибка при инициализации страницы:",e.message)}}function Y(){window.innerWidth<768?l=10:l=24}window.addEventListener("resize",()=>{const e=l;Y(),l!==e&&i.length>0&&(u=1,c=[],y(i))});function F(e){const t=e.flatMap(({books:o})=>o);return G(t)}function G(e){const t=new Set,o=e.filter(s=>t.has(s.title)?!1:(t.add(s.title),!0));if(o.length===0){k.warning({message:"No books available to display.",position:"topRight"});return}return o}function y(e){N(),i.length===0&&(i=e,$=i.length);const t=Math.ceil(i.length/l);if(g%l!=0&&(u=1,g=0,c=[],ce()),t>u){const o=(u-1)*l,s=o+l;c=i.slice(o,s)}else{const o=(u-1)*l,s=i.length;c=i.slice(o,s),i=[]}if(g+=c.length,d.pageEl.textContent=`Showing ${g} of ${$}`,c.length<l||i.length===0){D(),T(c),c=[],u=1,k.info({message:"Sorry, all books in this category are displayed. Please look at books in another category.",position:"topRight"});return}u===1&&(d.bookCard.innerHTML=""),g!=l&&D(),T(c),u++,X()}async function ie(e){const t=e.target.closest(".js-book-info-btn");if(!t)return;const o=t.dataset.id;if(!o)return;const s=`books/${o}`;try{const n=await v(s);oe(n),te()}catch(n){console.error("Ошибка загрузки книги по ID:",n.message)}}function D(){const e=document.querySelectorAll(".js-book-card");if(e.length===0)return;const o=e[e.length-1].getBoundingClientRect(),s=o.top+o.height+window.scrollY;window.scrollTo({top:s,behavior:"smooth"})}const le=async e=>{const t=e.target.closest(".js-category-item");if(!t)return;let o=null;if(w=t.textContent.trim(),w==="All categories"){const s=await v(W);o=F(s)}else{const s=await K(ae,w);o=G(s)}console.log(o.length),u=1,i=[],c=[],d.bookCard.innerHTML="",se.close(0),y(o)};function ce(){d.bookCard.innerHTML=""}d.showMoreBtn.addEventListener("click",()=>{y()});d.listOfCategories.addEventListener("click",le);d.bookCard.addEventListener("click",ie);re();new M(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}});const de="/development-hell-02/assets/jane_doe-BMQ-xRsd.jpg",ue="/development-hell-02/assets/john_smith-Ci_0vTWv.jpg",pe="/development-hell-02/assets/emily_johnson-Cbkcq2d1.jpg",he="/development-hell-02/assets/sofia_lee-CX_hethO.jpg",me="/development-hell-02/assets/carlos_mendez-BSK00tr3.jpg",ge="/development-hell-02/assets/natalie_brooks-D_79rjIz.jpg",fe="/development-hell-02/assets/david_nguyen-hOS68mGQ.jpg",ve="/development-hell-02/assets/aisha_patel-BOQJ_tzB.jpg",be="/development-hell-02/assets/michael_thompson-BYZwjKIc.jpg",ke="/development-hell-02/assets/elena_garcia-KTMMVTiw.jpg",ye="/development-hell-02/assets/james_oconnor-D0_R_894.jpg",we="/development-hell-02/assets/samantha_lee-B-YRyQU5.jpg",Le=[{text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",author:"Jane Doe",position:"Book Lover, Reader",avatar:de},{text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",author:"John Smith",position:"Editor, BookMag",avatar:ue},{text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",author:"Emily Johnson",position:"Author, Novelist",avatar:pe},{text:"Such a lovely experience shopping here. The recommendations are always on point!",author:"Sofia Lee",position:"Literature Professor",avatar:he},{text:"I’ve discovered so many hidden gems thanks to this store. The reviews really help!",author:"Carlos Mendez",position:"Blogger, Read & Roam",avatar:me},{text:"As a parent, I appreciate the kid-friendly book sections. My son loves everything we order!",author:"Natalie Brooks",position:"Mother & Teacher",avatar:ge},{text:"The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.",author:"David Nguyen",position:"Graphic Designer",avatar:fe},{text:"Fast shipping and top-notch service, with timely updates throughout delivery. I’ll definitely be back for more!",author:"Aisha Patel",position:"Marketing Specialist",avatar:ve},{text:"Their children’s book selection is unbeatable. My daughter can’t wait for the next delivery!",author:"Michael Thompson",position:"Pediatric Nurse",avatar:be},{text:"I love the author spotlights and exclusive interviews. It adds so much value to my reading experience!",author:"Elena Garcia",position:"Content Writer",avatar:ke},{text:"The gift wrapping option was perfect for presents. Such a thoughtful touch and impeccable attention to detail!",author:"James O’Connor",position:"Event Planner",avatar:ye},{text:"Great loyalty program with real perks and exclusive offers. I’ve saved so much on my orders and truly feel valued!",author:"Samantha Lee",position:"Digital Strategist",avatar:we}];function Se(e){const t=document.querySelector(".swiper-feedback-wrapper");t&&(t.innerHTML="",e.forEach(({text:o,author:s,position:n,avatar:a})=>{const p=Array(5).fill(`
      <li class="feedback-rating__star">
        <svg class="icon-feedback-star" width="20" height="20">
          <use xlink:href="#star"/>
        </svg>
      </li>
    `).join(""),m=document.createElement("li");m.className="swiper-slide feedback-card",m.setAttribute("role","listitem"),m.innerHTML=`
      <blockquote class="feedback-text">${o}</blockquote>
      <ul class="feedback-rating" aria-label="Rating: 5 stars">
        ${p}
      </ul>
      <div class="feedback-author-wrapper">
        <img src="${a}" alt="${s}" width="48" height="48" loading="lazy" />
        <div class="author-details">
          <h3 class="author-name">${s}</h3>
          <p>${n}</p>
        </div>
      </div>
    `,t.appendChild(m)}))}function Ee(){const e=new M(".feedbacks-slider",{slidesPerView:1,spaceBetween:24,autoplay:{delay:2e3,disableOnInteraction:!1},speed:1e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".button-nav.prev",nextEl:".button-nav.next",disabledClass:"button-nav--disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Previous feedback",nextSlideMessage:"Next feedback"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}}),t=e.el;e.el.addEventListener("mouseenter",()=>{e.autoplay.stop()}),e.el.addEventListener("mouseleave",()=>{e.autoplay.start()}),t.addEventListener("focusin",()=>e.autoplay.stop()),t.addEventListener("focusout",()=>e.autoplay.start())}document.addEventListener("DOMContentLoaded",()=>{Se(Le),Ee()});const b=document.querySelector(".footer-join-form"),f=document.querySelector(".footer-form-validation"),h=document.querySelector(".footer-email"),xe=document.querySelector("#copy-year"),L=2025;!b||!f||!h?console.warn("Form or input elements not found."):b.addEventListener("submit",Be);function Be(e){e.preventDefault(),h.addEventListener("input",O);const o=new FormData(b).get("footer-email").trim();if(!o||!h.validity.valid){Me("Please enter a valid email address");return}J("* Required field"),S(`Thank you for subscribing with <b>${o}</b>`,"success"),b.reset(),h.removeEventListener("input",O)}function O(){J("* Required field")}function Me(e){f.textContent=e,f.classList.add("color-error"),h.classList.add("error")}function J(e){f.textContent=e,f.classList.remove("color-error"),h.classList.remove("error")}const R=new Date().getFullYear();xe.textContent=R>L?`${L}-${R}`:L;const je=document.querySelector(".mobile-open-menu-btn"),qe=document.querySelector(".mobile-menu-close-btn"),q=document.querySelector(".mobile-menu"),Ce=document.querySelectorAll(".mobile-page-menu-link"),Te=document.querySelectorAll(".page-menu-link"),C=document.body;je.addEventListener("click",()=>{q.classList.add("is-open"),C.classList.add("menu-open")});qe.addEventListener("click",()=>{q.classList.remove("is-open"),C.classList.remove("menu-open")});Ce.forEach(e=>{e.addEventListener("click",()=>{q.classList.remove("is-open"),C.classList.remove("menu-open")})});Te.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("href"),s=document.querySelector(o);s&&setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},300)})});new M(".swiper-hero",{direction:"horizontal",keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-hero-slider-forward",prevEl:".js-hero-slider-prev"},autoplay:{delay:5e3,disableOnInteraction:!1},speed:1e3,spaceBetween:24});const Ie=document.querySelectorAll(".location-hidden, .location-hidden-side"),Pe=new IntersectionObserver(e=>{e.forEach(t=>{const o=t.target;t.intersectionRatio>.5?(o.classList.contains("location-hidden")&&o.classList.add("location-show"),o.classList.contains("location-hidden-side")&&o.classList.add("location-show-side")):(o.classList.contains("location-hidden")&&o.classList.remove("location-show"),o.classList.contains("location-hidden-side")&&o.classList.remove("location-show-side"))})},{threshold:.5});Ie.forEach(e=>Pe.observe(e));
//# sourceMappingURL=index.js.map
