{"version":3,"file":"main.BUtqzWvU.js","sources":["../src/js/refs.js","../src/js/books-api.js","../src/js/render-functions.js","../src/js/common.js","../src/js/books-modal.js","../src/js/books.js","../src/js/events.js","../src/images/feedbacks/jane_doe.jpg","../src/js/feedbacks.js","../src/images/feedbacks/jane_doe@2x.jpg","../src/images/feedbacks/john_smith.jpg","../src/images/feedbacks/john_smith@2x.jpg","../src/images/feedbacks/emily_johnson.jpg","../src/images/feedbacks/emily_johnson@2x.jpg","../src/images/feedbacks/sofia_lee.jpg","../src/images/feedbacks/sofia_lee@2x.jpg","../src/images/feedbacks/carlos_mendez.jpg","../src/images/feedbacks/carlos_mendez@2x.jpg","../src/images/feedbacks/natalie_brooks.jpg","../src/images/feedbacks/natalie_brooks@2x.jpg","../src/images/feedbacks/david_nguyen.jpg","../src/images/feedbacks/david_nguyen@2x.jpg","../src/images/feedbacks/aisha_patel.jpg","../src/images/feedbacks/aisha_patel@2x.jpg","../src/images/feedbacks/michael_thompson.jpg","../src/images/feedbacks/michael_thompson@2x.jpg","../src/js/footer.js","../src/js/header.js","../src/js/hero.js","../src/js/location.js","../src/js/backend-api.js","../src/js/contacts-modal.js"],"sourcesContent":["export const refs = {\n  listOfCategories: document.querySelector('.js-categories-list'),\n  booksPerPage: document.querySelector('js-books-per-page'),\n  bookCard: document.querySelector('.js-books-list'),\n  showMoreBtn: document.querySelector('.js-show-more-btn'),\n  pageEl: document.querySelector('.js-books-per-page'),\n  accBtn: document.querySelector('.js-accordion-btn'),\n  accContent: document.querySelector('.js-accordion-content'),\n  // accIcon: accBtn.querySelector('.books-acc-icon'),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/';\n\nexport async function getDataOnRequest(urlApi) {\n  const response = await axios.get(urlApi);\n  return response.data;\n}\n\nexport async function getBooksByCategory(urlApi, params) {\n  const axiosOptions = {\n    params: {\n      category: params,\n    },\n  };\n  const response = await axios.get(urlApi, axiosOptions);\n  return response.data;\n}\n","import { refs } from './refs';\n\nexport function renderCategories(categories) {\n  const markup = categories\n    .map(({ list_name }) => {\n      // const name = list_name.trim() === '' ? 'No Category' : list_name;\n      const name = list_name;\n      return `\n      <li class=\"category-item js-category-item\">\n        ${name}\n      </li>\n      `;\n    })\n    .join('');\n  refs.listOfCategories.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderBooks(books) {\n  const markup = books\n    .map(\n      ({ book_image, price, title, author, description, rank, _id }) =>\n        `\n      <li class=\"book-card js-book-card\">\n        <img\n          src='${book_image}'\n          alt=\"${title}\"\n          class=\"book-card-image\"\n        />\n        <div class=\"book-description\">\n          <div class=\"book-details\">\n            <div class=\"book-info\">\n              <p class=\"book-title\">${title}</p>\n              <p class=\"book-autor\">${author}</p>\n            </div>\n            <p class=\"book-price\">$${price}</p>\n          </div>\n          <button class=\"book-info-btn js-book-info-btn\" data-id=${_id} >Learn More</button>\n        </div>\n      </li>\n      `\n    )\n    .join('');\n  refs.bookCard.insertAdjacentHTML('beforeend', markup);\n}\n\nconst seeNextBooks = refs.showMoreBtn.classList;\nexport const showLoadMoreButton = () => seeNextBooks.remove('is-hidden');\nexport const hideLoadMoreButton = () => seeNextBooks.add('is-hidden');\n","import iziToast from 'izitoast';\n\nconst windowWidth = window.innerWidth;\n\nexport function showToast(message, type = 'error') {\n  iziToast[type]({\n    message,\n    position: windowWidth < 768 ? 'center' : 'topRight',\n    maxWidth: windowWidth < 432 ? 300 : 400,\n  });\n}\n\nconst scrollUpBtn = document.querySelector('.scroll-up');\nconst SCROLL_UP_MULTIPLIER = 1.5;\n\nwindow.addEventListener('scroll', () => {\n  const scrollTrigger = window.innerHeight * SCROLL_UP_MULTIPLIER;\n\n  if (window.scrollY > scrollTrigger) {\n    scrollUpBtn.classList.add('show');\n  } else {\n    scrollUpBtn.classList.remove('show');\n  }\n});\n\nscrollUpBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n","import Accordion from 'accordion-js';\nimport { showToast } from './common.js';\n\nconst accordion = new Accordion('.modal-books-accordion-container', {\n  duration: 400,\n  showMultiple: true,\n});\n\nconst refs = {\n  modal: document.querySelector('.modal-books'),\n  backdrop: document.querySelector('.modal-books-backdrop'),\n  input: document.querySelector('.quantity-selector-quantity-input'),\n  modalBooksTextWrapper: document.querySelector('.modal-books-text-wrapper'),\n  bookPhotoWrapper: document.querySelector('.modal-book-photo-wrapper'),\n  accordionDetails: document.querySelector('.js-ac-text-details'),\n};\n\nconst handleModalBookClick = event => {\n  const target = event.target;\n  const action = target.dataset.action;\n\n  if (action === 'add-to-cart') {\n    const quantity = parseInt(refs.input.value) || 1;\n\n    const cartData = {\n      productId: 'Books',\n      quantity: quantity,\n    };\n\n    localStorage.setItem('cart-item', JSON.stringify(cartData));\n    showToast(`Книгу додано у кошик: ${quantity} шт.`, 'success');\n    return;\n  }\n  if (action === 'buy-now') {\n    showToast('Дякуємо за покупку', 'success');\n    localStorage.removeItem('cart-item');\n    return;\n  }\n\n  if (target.classList.contains('quantity-selector-decrease')) {\n    updateQuantity(-1);\n    return;\n  }\n  if (target.classList.contains('quantity-selector-increase')) {\n    updateQuantity(1);\n    return;\n  }\n\n  if (target === refs.backdrop) {\n    closeModal();\n    return;\n  }\n  if (target.closest('.modal-books-button')) {\n    closeModal();\n    return;\n  }\n};\n\nrefs.backdrop.addEventListener('click', handleModalBookClick);\n\nconst handleEscKey = e => {\n  if (e.key === 'Escape' && refs.backdrop.classList.contains('show-modal')) {\n    closeModal();\n    return;\n  }\n};\n\nexport const openModal = () => {\n  refs.input.value = '1';\n  accordion.closeAll();\n  refs.backdrop.classList.add('show-modal');\n  document.body.classList.add('modal-open');\n  // Додавання лісенерів\n  document.addEventListener('keydown', handleEscKey);\n  refs.backdrop.addEventListener('click', handleModalBookClick);\n  refs.input.addEventListener('input', handleInputOnlyNumbers);\n  refs.input.addEventListener('blur', handleInputBlur);\n};\n\nconst closeModal = () => {\n  refs.backdrop.classList.remove('show-modal');\n  document.body.classList.remove('modal-open');\n  // Зняття лісенерів\n  document.removeEventListener('keydown', handleEscKey);\n  refs.backdrop.removeEventListener('click', handleModalBookClick);\n  refs.input.removeEventListener('input', handleInputOnlyNumbers);\n  refs.input.removeEventListener('blur', handleInputBlur);\n};\n\nconst updateQuantity = change => {\n  const currentValue = parseInt(refs.input.value) || 1;\n  const newValue = Math.max(1, Math.min(10, currentValue + change));\n  refs.input.value = newValue;\n};\n\nconst handleInputOnlyNumbers = e => {\n  e.target.value = e.target.value.replace(/[^0-9]/g, '');\n};\n\nconst handleInputBlur = e => {\n  const value = parseInt(e.target.value) || 1;\n  e.target.value = Math.max(1, Math.min(10, value));\n};\n\nexport function fillDataModalBook({\n  book_image: bookImage,\n  title,\n  description,\n  price,\n  author,\n}) {\n  const imageData = `\n    <img\n            src=\"${\n              bookImage || 'https://placehold.co/309x466/png?text=No+image'\n            }\"\n            alt=\"${title || 'Без назви'}\" \n            class=\"modal-books-img\"\n          />\n  `;\n\n  refs.bookPhotoWrapper.innerHTML = imageData;\n\n  const modalBookText = `\n            <h2 class=\"modal-books-title\">${title || 'Без назви'}</h2>\n            <p class=\"modal-books-text\">${author || 'Невідомий автор'}</p>\n            <p class=\"modal-books-price\">${\n              price ? price + '$' : 'Ціна не вказана'\n            }</p>\n         `;\n\n  refs.modalBooksTextWrapper.innerHTML = modalBookText;\n\n  refs.accordionDetails.textContent = description || 'No description';\n}\n","/* ===== Импорт библиотек ===== */\n// import Accordion from 'accordion-js';\nimport iziToast from 'izitoast';\n\n/* ===== импорт именных переменных ===== */\nimport { refs } from './refs';\nimport { getDataOnRequest, getBooksByCategory } from './books-api';\nimport {\n  renderCategories,\n  renderBooks,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n} from './render-functions';\nimport { openModal, fillDataModalBook } from './books-modal';\n\n/* ===== аккордион ===== */\n// const acc = new Accordion('.js-accordion-container', {\n//   duration: 1000,\n//   showMultiple: true,\n// });\nconst accBtn = document.querySelector('.js-accordion-btn');\nconst accContent = document.querySelector('.js-accordion-content');\nconst accIcon = refs.accBtn.querySelector('.books-acc-icon');\n\n/* ===== Переменные для API ===== */\nconst allBookCategories = 'books/category-list/';\nconst categoriesOfTopBooks = 'books/top-books/';\nconst booksAllCategory = 'books/category/';\n\n// ======= Переменные пагинации =======\nlet originalBooks = []; // основной массив (оригинальные данные после фильтрации)\nlet visibleBooks = []; // массив для текущей порции на рендер\nlet page = 1;\nlet totalPages = null;\nlet booksPerPage = 10;\nlet totalCards = null;\nlet loadedCards = null;\n\nlet booksCategories = null;\nhideLoadMoreButton();\n\n// ======= Инициализация =======\nasync function initPage() {\n  try {\n    const categories = await getDataOnRequest(allBookCategories);\n    renderCategories(categories);\n\n    const topBooksRaw = await getDataOnRequest(categoriesOfTopBooks);\n\n    if (!topBooksRaw || !topBooksRaw.length) {\n      iziToast.warning({\n        message:\n          'Sorry, there are currently no books in this category. Please contact us later.',\n        position: 'topRight',\n      });\n      return;\n    }\n    const books = extractBooks(topBooksRaw);\n    setBooksPerPage();\n    paginateBooks(books);\n  } catch (error) {\n    console.error('Ошибка при инициализации страницы:', error.message);\n    // iziToast.error({ message: 'Ошибка при загрузке данных.', position: 'topRight' });\n  }\n}\n\n/* ===== Устанавливает количество загружаемых карт на странице за раз ===== */\nfunction setBooksPerPage() {\n  const width = window.innerWidth;\n\n  if (width < 768) {\n    booksPerPage = 10;\n  } else {\n    booksPerPage = 24;\n  }\n}\n/* ===== Проверка изменения разрешения экрана ===== */\nwindow.addEventListener('resize', () => {\n  const prev = booksPerPage;\n  setBooksPerPage();\n\n  if (booksPerPage !== prev && originalBooks.length > 0) {\n    page = 1;\n    visibleBooks = [];\n    loadedCards = null;\n    paginateBooks(originalBooks);\n  }\n});\n\n/* ===== Объединить все массивы в один ===== */\nfunction extractBooks(bookData) {\n  const data = bookData.flatMap(({ books }) => books);\n  return removeDuplicateBooks(data);\n}\n\n/* ===== Удалить повторяющиеся книги по title ===== */\nfunction removeDuplicateBooks(books) {\n  const seenTitles = new Set();\n  const uniqueBooks = books.filter(book => {\n    if (seenTitles.has(book.title)) return false;\n    seenTitles.add(book.title);\n    return true;\n  });\n\n  if (uniqueBooks.length === 0) {\n    iziToast.warning({\n      message: 'No books available to display.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  return uniqueBooks;\n}\n/* ======= Пагинация и отправка на отрисовку ======= */\nfunction paginateBooks(rawBooksData) {\n  hideLoadMoreButton();\n\n  if (originalBooks.length === 0) {\n    // при первоначальной загрузке массива\n    originalBooks = rawBooksData;\n    totalCards = originalBooks.length;\n    totalPages = Math.ceil((originalBooks.length - booksPerPage) / 4) + 1;\n    if (totalPages < 1) totalPages = 1;\n  }\n\n  let start = null;\n  let end = null;\n\n  if (totalPages > page) {\n    if (page === 1) {\n      start = (page - 1) * booksPerPage;\n      end = start + booksPerPage;\n    } else {\n      start = loadedCards;\n      end = start + 4;\n    }\n    visibleBooks = originalBooks.slice(start, end);\n  } else {\n    // const start = (page - 1) * booksPerPage;\n    start = loadedCards;\n    end = originalBooks.length;\n    visibleBooks = originalBooks.slice(start, end);\n    originalBooks = [];\n  }\n\n  loadedCards += visibleBooks.length;\n\n  refs.pageEl.textContent = `Showing ${loadedCards} of ${totalCards}`;\n  if (originalBooks.length === 0) {\n    //visibleBooks.length < booksPerPage ||\n    if (page > 1) {\n      iziToast.info({\n        message: 'Sorry, you have viewed all the books in this category.',\n        position: 'topRight',\n      });\n    }\n    scrollByUp();\n    renderBooks(visibleBooks);\n    visibleBooks = [];\n    page = 1;\n    totalPages = null;\n    totalCards = null;\n    loadedCards = null;\n\n    return;\n  }\n\n  if (page === 1) {\n    refs.bookCard.innerHTML = '';\n  }\n  if (loadedCards != booksPerPage) {\n    scrollByUp();\n  }\n  renderBooks(visibleBooks);\n  page++;\n  showLoadMoreButton();\n}\n\n/* ======= отрисовка модалки ======= */\nexport async function handleBookDetails(event) {\n  const btn = event.target.closest('.js-book-info-btn');\n  if (!btn) return;\n\n  const bookId = btn.dataset.id;\n  if (!bookId) return;\n  const bookById = `books/${bookId}`;\n  try {\n    const bookData = await getDataOnRequest(bookById);\n    fillDataModalBook(bookData);\n    openModal();\n  } catch (error) {\n    console.error('Ошибка загрузки книги по ID:', error.message);\n  }\n}\n\n/* ======= Скроллинг до нового запроса ======= */\nfunction scrollByUp() {\n  const allCards = document.querySelectorAll('.js-book-card');\n  if (allCards.length === 0) return;\n\n  const lastCard = allCards[allCards.length - 1];\n  const rect = lastCard.getBoundingClientRect();\n\n  // Вычисляем абсолютную координату низа карточки\n  const targetScrollY = rect.top + rect.height + window.scrollY;\n\n  window.scrollTo({\n    top: targetScrollY,\n    behavior: 'smooth',\n  });\n}\n\n/* ======= Клик по категории ======= */\nconst selectCategory = async event => {\n  const li = event.target.closest('.js-category-item');\n  if (!li) return;\n  let books = null;\n\n  booksCategories = li.textContent.trim();\n  // console.log(booksCategories);\n  if (booksCategories === 'All categories') {\n    const booksData = await getDataOnRequest(categoriesOfTopBooks);\n    books = extractBooks(booksData);\n  } else {\n    const booksData = await getBooksByCategory(\n      booksAllCategory,\n      booksCategories\n    );\n    books = removeDuplicateBooks(booksData);\n  }\n  // console.log(books.length);\n\n  page = 1;\n  totalPages = null;\n  originalBooks = [];\n  visibleBooks = [];\n  totalCards = null;\n  loadedCards = null;\n  refs.bookCard.innerHTML = '';\n\n  // acc.close(0);\n  accContent.classList.remove('open');\n  accIcon.classList.remove('rotate');\n  paginateBooks(books);\n};\n// Открытие/закрытие аккордиона по кнопке\naccBtn.addEventListener('click', () => {\n  accContent.classList.toggle('open');\n  accIcon.classList.toggle('rotate');\n});\n\n// Закрытие аккордиона при клике вне него\ndocument.addEventListener('click', event => {\n  const isClickInside =\n    accContent.contains(event.target) || accBtn.contains(event.target);\n  if (!isClickInside && accContent.classList.contains('open')) {\n    accContent.classList.remove('open');\n    accIcon.classList.remove('rotate');\n  }\n});\n\n/* ===== Очищение экрана с карточками ===== */\nfunction clearBooks() {\n  refs.bookCard.innerHTML = '';\n}\n\n/* ===== Клик по кнопке Show More ===== */\nrefs.showMoreBtn.addEventListener('click', () => {\n  paginateBooks();\n});\n\n/* ===== Клик по списку выбора категории ===== */\nrefs.listOfCategories.addEventListener('click', selectCategory);\n\n/* ===== Клик по кнопке подробной информации ===== */\nrefs.bookCard.addEventListener('click', handleBookDetails);\n\ninitPage();\n","\nimport Swiper from 'swiper/bundle';\n    const swiper = new Swiper('.event-list', {\n      direction: 'horizontal',\n      slidesPerView: 1,\n      spaceBetween: 24,\n      keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n      },\n      navigation: {\n        nextEl: '.js-events-slider-forward',\n        prevEl: '.js-events-slider-prev',\n      },\n      pagination: {\n        el: '.events-pagination',\n        clickable: true,\n      },\n      a11y: {\n        enabled: true,\n        slideRole: '',\n      },\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 24,\n        },\n      },\n    });\n","export default \"__VITE_ASSET__BUxr77a7__\"","import Swiper from 'swiper/bundle';\n\nimport Rater from 'rater-js';\n\nimport janeDoe1x from '../images/feedbacks/jane_doe.jpg';\nimport janeDoe2x from '../images/feedbacks/jane_doe@2x.jpg';\nimport johnSmith1x from '../images/feedbacks/john_smith.jpg';\nimport johnSmith2x from '../images/feedbacks/john_smith@2x.jpg';\nimport emilyJohnson1x from '../images/feedbacks/emily_johnson.jpg';\nimport emilyJohnson2x from '../images/feedbacks/emily_johnson@2x.jpg';\nimport sofiaLee1x from '../images/feedbacks/sofia_lee.jpg';\nimport sofiaLee2x from '../images/feedbacks/sofia_lee@2x.jpg';\nimport carlosMendez1x from '../images/feedbacks/carlos_mendez.jpg';\nimport carlosMendez2x from '../images/feedbacks/carlos_mendez@2x.jpg';\nimport natalieBrooks1x from '../images/feedbacks/natalie_brooks.jpg';\nimport natalieBrooks2x from '../images/feedbacks/natalie_brooks@2x.jpg';\nimport davidNguyen1x from '../images/feedbacks/david_nguyen.jpg';\nimport davidNguyen2x from '../images/feedbacks/david_nguyen@2x.jpg';\nimport aishaPatel1x from '../images/feedbacks/aisha_patel.jpg';\nimport aishaPatel2x from '../images/feedbacks/aisha_patel@2x.jpg';\nimport michaelThompson1x from '../images/feedbacks/michael_thompson.jpg';\nimport michaelThompson2x from '../images/feedbacks/michael_thompson@2x.jpg';\n\nconst feedbacksData = [\n  {\n    text: 'Great selection, fast delivery, and beautifully packaged books.\\nMy go-to store for weekend reads!',\n    author: 'Jane Doe',\n    position: 'Book Lover, Reader',\n    avatar1x: janeDoe1x,\n    avatar2x: janeDoe2x,\n    rating: 4.8,\n    subscription: 'gold',\n  },\n  {\n    text: `This bookstore has become my absolute favorite! The rare editions section alone is worth the visit, and the staff always go above and beyond to recommend the perfect titles based on my interests.\\nI love how they support local authors and host engaging events each month.`,\n    author: 'John Smith',\n    position: 'Editor, BookMag',\n    avatar1x: johnSmith1x,\n    avatar2x: johnSmith2x,\n    rating: 4.6,\n    subscription: null,\n  },\n  {\n    text: `I was pleasantly surprised by the personalized touches in my last order—from the hand-written note tucked inside the package to the custom bookmark.\\nThe whole experience felt crafted just for me, and I can’t wait to shop again!`,\n    author: 'Emily Johnson',\n    position: 'Author, Novelist',\n    avatar1x: emilyJohnson1x,\n    avatar2x: emilyJohnson2x,\n    rating: 4.9,\n    subscription: 'gold',\n  },\n  {\n    text: `As a literature professor, I’m endlessly impressed by the depth of their catalog.\\nThey carry everything from contemporary bestsellers to obscure academic volumes, and their recommendation engine never fails to introduce me to new gems.`,\n    author: 'Sofia Lee',\n    position: 'Literature Professor',\n    avatar1x: sofiaLee1x,\n    avatar2x: sofiaLee2x,\n    rating: 4.7,\n    subscription: null,\n  },\n  {\n    text: 'I’ve discovered so many hidden gems thanks to this store.\\nThe reviews really help me find niche titles I wouldn’t have found anywhere else!',\n    author: 'Carlos Mendez',\n    position: 'Blogger',\n    avatar1x: carlosMendez1x,\n    avatar2x: carlosMendez2x,\n    rating: 4.5,\n    subscription: 'silver',\n  },\n  {\n    text: 'As a parent, I appreciate the kid-friendly book sections.\\nMy son can’t get enough of the colorful picture books and board books we order each month!',\n    author: 'Natalie Brooks',\n    position: 'Mother & Teacher',\n    avatar1x: natalieBrooks1x,\n    avatar2x: natalieBrooks2x,\n    rating: 4.6,\n    subscription: null,\n  },\n  {\n    text: `The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.\\nThe seasonal reading lists they publish are also a great way to branch out beyond my usual genres.`,\n    author: 'David Nguyen',\n    position: 'Graphic Designer',\n    avatar1x: davidNguyen1x,\n    avatar2x: davidNguyen2x,\n    rating: 4.7,\n    subscription: null,\n  },\n  {\n    text: 'Fast shipping and top-notch service, with timely updates throughout delivery.\\nI’ll definitely be back for more, especially during holiday sales!',\n    author: 'Aisha Patel',\n    position: 'Marketing Specialist',\n    avatar1x: aishaPatel1x,\n    avatar2x: aishaPatel2x,\n    rating: 4.8,\n    subscription: 'gold',\n  },\n  {\n    text: 'Their children’s book selection is unbeatable.\\nMy daughter devours every story and can’t wait for the next delivery!',\n    author: 'Michael Thompson',\n    position: 'Pediatric Nurse',\n    avatar1x: michaelThompson1x,\n    avatar2x: michaelThompson2x,\n    rating: 4.5,\n    subscription: 'silver',\n  },\n];\n\nlet feedbackSwiper;\n\nfunction initScrollAnimations() {\n  const rightEls = document.querySelectorAll(\n    '#feedbacks-title, .feedbacks-subtitle'\n  );\n\n  const observerOptions = {\n    root: null,\n    threshold: 0.2,\n  };\n\n  const observerCallback = entries => {\n    entries.forEach(entry => {\n      entry.target.classList.toggle('visible', entry.isIntersecting);\n    });\n  };\n\n  const observer = new IntersectionObserver(observerCallback, observerOptions);\n\n  rightEls.forEach(el => {\n    el.classList.add('animate-slide-in-right');\n    observer.observe(el);\n  });\n}\n\nfunction getTruncateIndex(block, fullText) {\n  const clone = block.cloneNode();\n  Object.assign(clone.style, {\n    visibility: 'hidden',\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    height: 'auto',\n    webkitLineClamp: 'unset',\n    display: 'block',\n    overflow: 'visible',\n  });\n  block.parentNode.appendChild(clone);\n\n  let low = 0,\n    high = fullText.length;\n  const maxH = block.clientHeight;\n  while (low < high) {\n    const mid = Math.ceil((low + high) / 2);\n    clone.textContent = fullText.slice(0, mid);\n    if (clone.scrollHeight <= maxH) low = mid;\n    else high = mid - 1;\n  }\n  clone.remove();\n  return low;\n}\n\nfunction renderFeedbackSlides(data) {\n  const wrapper = document.querySelector('.swiper-feedback-wrapper');\n  wrapper.innerHTML = '';\n  data.forEach(\n    ({ text, author, position, avatar1x, avatar2x, rating, subscription }) => {\n      const slide = document.createElement('li');\n      slide.className = 'swiper-slide feedback-card';\n      slide.innerHTML = `\n  <div class=\"feedback-text-wrapper\">\n    <blockquote class=\"feedback-text\">\n      <span class=\"text-content\">${text}</span>\n    </blockquote>\n  </div>\n  <div class=\"feedback-overlay\" aria-hidden=\"true\">\n    <div class=\"overlay-text\"></div>\n  </div>\n  <div class=\"feedback-meta\">\n    <div class=\"feedback-rating\" data-rating=\"${rating}\"></div>\n    ${\n      subscription\n        ? `<div class=\"badge badge--${subscription}\">\n             <svg class=\"icon-verified\"><use xlink:href=\"#icon-verified\"/></svg>\n             Verified\n           </div>`\n        : `<div class=\"badge badge--unverified\">Unverified</div>`\n    }\n  </div>\n  <div class=\"feedback-author-wrapper\">\n    <img\n      src=\"${avatar1x}\"\n      srcset=\"${avatar1x} 1x, ${avatar2x} 2x\"\n      alt=\"${author}\"\n      width=\"48\" height=\"48\"\n      loading=\"lazy\"\n    />\n    <div class=\"author-details\">\n      <h3 class=\"author-name\">${author}</h3>\n      <p>${position}</p>\n    </div>\n  </div>\n`;\n      wrapper.appendChild(slide);\n    }\n  );\n}\n\nfunction initFeedbackSlider() {\n  feedbackSwiper = new Swiper('.feedbacks-slider', {\n    slidesPerView: 1,\n    spaceBetween: 24,\n    speed: 600,\n    autoplay: {\n      delay: 2000,\n      disableOnInteraction: false,\n    },\n    pagination: { el: '.swiper-pagination', clickable: true },\n    navigation: {\n      prevEl: '.button-nav.prev',\n      nextEl: '.button-nav.next',\n      disabledClass: 'button-nav--disabled',\n    },\n    keyboard: { enabled: true, onlyInViewport: true },\n    a11y: {\n      enabled: true,\n      prevSlideMessage: 'Previous feedback',\n      nextSlideMessage: 'Next feedback',\n    },\n    breakpoints: {\n      768: { slidesPerView: 2, spaceBetween: 24 },\n      1440: { slidesPerView: 3, spaceBetween: 24 },\n    },\n  });\n\n  document.querySelectorAll('.feedback-rating').forEach(el => {\n    new Rater({\n      element: el,\n      max: 5,\n      step: 0.1,\n      rating: parseFloat(el.dataset.rating),\n      readOnly: true,\n      starSize: 14,\n      showToolTip: false,\n    });\n  });\n\n  feedbackSwiper.el.addEventListener('mouseenter', () =>\n    feedbackSwiper.autoplay?.stop()\n  );\n  feedbackSwiper.el.addEventListener('mouseleave', () =>\n    feedbackSwiper.autoplay?.start()\n  );\n  feedbackSwiper.el.addEventListener('focusin', () =>\n    feedbackSwiper.autoplay?.stop()\n  );\n  feedbackSwiper.el.addEventListener('focusout', () =>\n    feedbackSwiper.autoplay?.start()\n  );\n}\n\nfunction attachOverlays() {\n  const mqlTablet = window.matchMedia(\n    '(min-width: 768px) and (max-width: 1439px)'\n  );\n  const mqlDesktop = window.matchMedia('(min-width: 1440px)');\n\n  document.querySelectorAll('.feedback-card').forEach(card => {\n    const wrapper = card.querySelector('.feedback-text-wrapper');\n    const block = wrapper.querySelector('.feedback-text');\n    const textEl = block.querySelector('.text-content');\n    const overlay = card.querySelector('.feedback-overlay');\n    const ovText = overlay.querySelector('.overlay-text');\n    let timer,\n      isOpen = false;\n\n    if (block.scrollHeight <= block.clientHeight) {\n      wrapper.classList.add('full-text');\n      return;\n    }\n\n    function openOverlay() {\n      if (isOpen) return;\n      isOpen = true;\n\n      feedbackSwiper.autoplay?.stop();\n      feedbackSwiper.allowTouchMove = false;\n\n      overlay.setAttribute('aria-hidden', 'false');\n      overlay.style.display = 'block';\n\n      const fullText = textEl.textContent;\n      const idx = getTruncateIndex(block, fullText);\n\n      const measure = block.cloneNode();\n      Object.assign(measure.style, {\n        visibility: 'hidden',\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        height: 'auto',\n        webkitLineClamp: 'unset',\n        display: 'block',\n        overflow: 'visible',\n      });\n      measure.textContent = fullText.slice(0, idx);\n      const marker = document.createElement('span');\n      marker.className = 'text-marker';\n      measure.appendChild(marker);\n      block.parentNode.appendChild(measure);\n\n      const cardRect = card.getBoundingClientRect();\n      const mRect = marker.getBoundingClientRect();\n      overlay.style.setProperty('--text-top', `${mRect.top - cardRect.top}px`);\n      overlay.style.setProperty(\n        '--text-left',\n        `${mRect.left - cardRect.left}px`\n      );\n\n      measure.remove();\n\n      const visiblePart = fullText.slice(0, idx);\n      const hiddenPart = fullText.slice(idx);\n\n      ovText.textContent = visiblePart;\n      ovText.style.display = 'inline-block';\n      ovText.style.whiteSpace = 'pre-wrap';\n      ovText.style.wordBreak = 'break-word';\n\n      let i = 0;\n      (function step() {\n        if (i < hiddenPart.length) {\n          ovText.textContent += hiddenPart[i++];\n          timer = setTimeout(step, 25);\n        }\n      })();\n\n      const totalDelay = hiddenPart.length * 25 + 2000;\n      setTimeout(() => {\n        feedbackSwiper.allowTouchMove = true;\n        feedbackSwiper.autoplay?.start();\n      }, totalDelay);\n    }\n    function closeOverlay(final = false) {\n      clearTimeout(timer);\n      overlay.setAttribute('aria-hidden', 'true');\n      overlay.style.display = 'none';\n      feedbackSwiper.allowTouchMove = true;\n      feedbackSwiper.autoplay?.start();\n      if (final) isOpen = false;\n    }\n\n    function onMobile() {\n      textEl.removeEventListener('click', onTablet);\n      textEl.removeEventListener('focusin', onDesktop);\n      textEl.removeEventListener('blur', onDesktop);\n      textEl.addEventListener('click', () => {\n        isOpen ? closeOverlay(true) : openOverlay();\n      });\n      document.addEventListener('click', e => {\n        if (isOpen && !wrapper.contains(e.target)) closeOverlay(true);\n      });\n    }\n    function onTablet() {\n      textEl.removeEventListener('click', onMobile);\n      textEl.removeEventListener('focusin', onDesktop);\n      textEl.removeEventListener('blur', onDesktop);\n      textEl.addEventListener('click', openOverlay);\n      document.addEventListener('click', e => {\n        if (isOpen && !wrapper.contains(e.target)) closeOverlay(true);\n      });\n    }\n    function onDesktop() {\n      textEl.removeEventListener('click', onMobile);\n      textEl.removeEventListener('click', onTablet);\n\n      card.setAttribute('tabindex', '0');\n      card.addEventListener('focusin', openOverlay);\n      card.addEventListener('focusout', e => {\n        if (!card.contains(e.relatedTarget)) closeOverlay(true);\n      });\n\n      card.addEventListener('mouseenter', openOverlay);\n      card.addEventListener('mouseleave', () => closeOverlay(true));\n    }\n\n    function applyMode() {\n      closeOverlay(true);\n      if (mqlDesktop.matches) onDesktop();\n      else if (mqlTablet.matches) onTablet();\n      else onMobile();\n    }\n    mqlTablet.addListener(applyMode);\n    mqlDesktop.addListener(applyMode);\n    applyMode();\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderFeedbackSlides(feedbacksData);\n  initFeedbackSlider();\n  attachOverlays();\n  initScrollAnimations();\n});\n","export default \"__VITE_ASSET__ecH0UtZ___\"","export default \"__VITE_ASSET__CTI_S8c9__\"","export default \"__VITE_ASSET__wPkUIsQA__\"","export default \"__VITE_ASSET__DOoJ3Hm9__\"","export default \"__VITE_ASSET__DSqnhLP9__\"","export default \"__VITE_ASSET__ldDlAPIV__\"","export default \"__VITE_ASSET__DsAI1M2h__\"","export default \"__VITE_ASSET__DuFOTK$j__\"","export default \"__VITE_ASSET__fqKNITI4__\"","export default \"__VITE_ASSET__CXvwoVHI__\"","export default \"__VITE_ASSET__CsNzrtie__\"","export default \"__VITE_ASSET__DtJzEfsx__\"","export default \"__VITE_ASSET__Ccovywd5__\"","export default \"__VITE_ASSET__CkUUd2y0__\"","export default \"__VITE_ASSET__kXMKM319__\"","export default \"__VITE_ASSET__BCNZf$Ec__\"","export default \"__VITE_ASSET__CXR1HmVZ__\"","import { showToast } from './common';\n\nconst form = document.querySelector('.footer-join-form');\nconst validationMessage = document.querySelector('.footer-form-validation');\nconst input = document.querySelector('.footer-email');\nconst copyYear = document.querySelector('#copy-year');\n\nconst COPYRIGHT_START_YEAR = 2025;\n\nif (!form || !validationMessage || !input) {\n  console.warn('Form or input elements not found.');\n} else {\n  form.addEventListener('submit', handleSubmit);\n}\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  input.addEventListener('input', handleInputValidation);\n\n  const formData = new FormData(form);\n  const email = formData.get('footer-email').trim();\n\n  if (!email || !input.validity.valid) {\n    showError('Please enter a valid email address');\n    return;\n  }\n\n  clearError('* Required field');\n  showToast(`Thank you for subscribing with <b>${email}</b>`, 'success');\n  form.reset();\n  input.removeEventListener('input', handleInputValidation);\n}\n\nfunction handleInputValidation() {\n  clearError('* Required field');\n}\n\nfunction showError(message) {\n  validationMessage.textContent = message;\n  validationMessage.classList.add('color-error');\n  input.classList.add('error');\n}\n\nfunction clearError(message) {\n  validationMessage.textContent = message;\n  validationMessage.classList.remove('color-error');\n  input.classList.remove('error');\n}\n\nconst currentYear = new Date().getFullYear();\ncopyYear.textContent =\n  currentYear > COPYRIGHT_START_YEAR\n    ? `${COPYRIGHT_START_YEAR}-${currentYear}`\n    : COPYRIGHT_START_YEAR;\n","const refs = {\n  openBtn: document.querySelector('.mobile-menu-open-btn'),\n  closeBtn: document.querySelector('.mobile-menu-close-btn'),\n  mobileMenu: document.querySelector('.mobile-menu'),\n  mobileNavLinks: document.querySelectorAll('.mobile-menu-page-link'),\n  desktopNavLinks: document.querySelectorAll('.page-menu-link'),\n  body: document.body,\n};\n\nrefs.openBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.add('is-open');\n  refs.body.classList.add('modal-open');\n});\n\nrefs.closeBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.remove('is-open');\n  refs.body.classList.remove('modal-open');\n});\n\nrefs.mobileNavLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    refs.mobileMenu.classList.remove('is-open');\n    refs.body.classList.remove('modal-open');\n  });\n});\n","import Swiper from 'swiper/bundle';\nconst swiper = new Swiper('.swiper-hero', {\n  direction: 'horizontal',\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  navigation: {\n    nextEl: '.js-hero-slider-forward',\n    prevEl: '.js-hero-slider-prev',\n  },\n  autoplay: {\n    delay: 5000,\n    disableOnInteraction: false,\n  },\n  speed: 1000,\n\n  spaceBetween: 24,\n});\n","const hiddenEls = document.querySelectorAll(\n  '.location-hidden, .location-hidden-side'\n);\n\nconst observer = new IntersectionObserver(\n  entries => {\n    entries.forEach(entry => {\n      const el = entry.target;\n\n      if (entry.intersectionRatio > 0.5) {\n        if (el.classList.contains('location-hidden')) {\n          el.classList.add('location-show');\n        }\n        if (el.classList.contains('location-hidden-side')) {\n          el.classList.add('location-show-side');\n        }\n      } else {\n        if (el.classList.contains('location-hidden')) {\n          el.classList.remove('location-show');\n        }\n        if (el.classList.contains('location-hidden-side')) {\n          el.classList.remove('location-show-side');\n        }\n      }\n    });\n  },\n  {\n    threshold: 0.5,\n  }\n);\n\nhiddenEls.forEach(el => observer.observe(el));\n","import axios from 'axios';\nexport const sendDataToBackEnd = async (data, dataid) => {\n  const { name, email, message } = data;\n  try {\n    const response = await axios.post(\n      'https://test-server-fortg.onrender.com/send-message',\n      {\n        dataid,\n        name,\n        email,\n        message,\n      }\n    );\n\n    console.log('Відповідь сервера:', response.data);\n  } catch (error) {\n    console.error('Помилка при надсиланні:', error);\n  }\n};\n\nexport const sendCartDataToBackEnd = async arr => {\n  try {\n    const response = await axios.post(\n      'https://test-server-fortg.onrender.com/cart',\n\n      arr\n    );\n\n    console.log('Відповідь сервера:', response.data);\n  } catch (error) {\n    console.error('Помилка при надсиланні:', error);\n  }\n};\n","import iziToast from 'izitoast';\nimport { sendDataToBackEnd } from './backend-api';\n\nconst refs = {\n  openFormModal: document.querySelectorAll('.register-btn'),\n  formBackdrop: document.querySelector('#modalContacts'),\n  closeBtnModal: document.querySelector('.modal-form-close'),\n  formList: document.querySelector('.form-box'),\n  inputName: document.querySelector('[data-name]'),\n  inputEmail: document.querySelector('[data-email]'),\n  inputArea: document.querySelector('[data-area]'),\n  submitBtnModal: document.querySelector('.form-btn-submit'),\n  titleEventSection: document.querySelectorAll('.event-subhead'),\n  titleEventModal: document.querySelector('.modal-form-subscription'),\n};\n\n// ! OPEN / CLOSE MODAL\nconst closeBtn = () => {\n  closeModal();\n};\n\nconst closeEscape = e => {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n};\n\nconst closeBackdrop = e => {\n  if (e.target === refs.formBackdrop) {\n    closeModal();\n  }\n};\n\nfunction addEventListeners() {\n  refs.closeBtnModal.addEventListener('click', closeModal);\n  refs.formBackdrop.addEventListener('click', closeBackdrop);\n  document.addEventListener('keydown', closeEscape);\n}\n\nfunction removeEventListeners() {\n  refs.closeBtnModal.removeEventListener('click', closeModal);\n  refs.formBackdrop.removeEventListener('click', closeBackdrop);\n  document.removeEventListener('keydown', closeEscape);\n}\n\nfunction openModal(e) {\n  const btn = e.currentTarget;\n  transferEventTitle(btn);\n  refs.formBackdrop.classList.add('show-modal');\n  document.body.classList.add('modal-open');\n  addEventListeners();\n}\n\nfunction closeModal() {\n  refs.formBackdrop.classList.remove('show-modal');\n  document.body.classList.remove('modal-open');\n  removeEventListeners();\n}\n\n// !!! LISTENER\nrefs.openFormModal.forEach(btn => {\n  btn.addEventListener('click', openModal);\n});\n\nrefs.closeBtnModal.addEventListener('click', closeBtn);\n\ndocument.addEventListener('keydown', closeEscape);\n\ndocument.addEventListener('click', closeBackdrop);\n\n// ! TITLE\nfunction transferEventTitle(btn) {\n  const eventCard = btn.closest('.event-card');\n  const titleElement = eventCard\n    ? eventCard.querySelector('.event-subhead')\n    : null;\n\n  if (titleElement) {\n    const titleText = titleElement.textContent;\n\n    refs.titleEventModal.textContent = titleText;\n  }\n}\n\n// ! LOCAL STORAGE\n\nfunction saveToLocalStorage() {\n  const formData = {\n    name: refs.inputName.value.trim(),\n    email: refs.inputEmail.value.trim(),\n    message: refs.inputArea.value.trim(),\n  };\n\n  localStorage.setItem('contactFormData', JSON.stringify(formData));\n}\n\nfunction loadFromLocalStorage() {\n  const savedData = localStorage.getItem('contactFormData');\n\n  if (savedData) {\n    const parsedData = JSON.parse(savedData);\n\n    refs.inputName.value = parsedData.name || '';\n    refs.inputEmail.value = parsedData.email || '';\n    refs.inputArea.value = parsedData.message || '';\n  }\n}\n\nrefs.formList.addEventListener('input', saveToLocalStorage);\nloadFromLocalStorage();\n\n// !! SUBMIT BTN\nrefs.formList.addEventListener('submit', async e => {\n  e.preventDefault();\n  const formDataId = e.currentTarget.previousElementSibling.textContent;\n\n  const formData = {\n    name: refs.inputName.value.trim(),\n    email: refs.inputEmail.value.trim(),\n    message: refs.inputArea.value.trim() || 'No messege typed', // required on backend\n  };\n\n  refs.inputName.disabled = true;\n  refs.inputEmail.disabled = true;\n  refs.inputArea.disabled = true;\n  refs.submitBtnModal.disabled = true;\n  refs.submitBtnModal.textContent = 'Sending...';\n  await sendDataToBackEnd(formData, formDataId);\n  refs.inputName.disabled = false;\n  refs.inputEmail.disabled = false;\n  refs.inputArea.disabled = false;\n  refs.submitBtnModal.disabled = false;\n  refs.submitBtnModal.textContent = 'Register';\n  closeModal();\n  localStorage.removeItem('contactFormData');\n  refs.formList.reset();\n\n  return iziToast.info({\n    message: 'Thank you, our manager will contact you!',\n    position: 'center',\n  });\n});\n"],"names":["refs","listOfCategories","document","querySelector","booksPerPage","bookCard","showMoreBtn","pageEl","accBtn","accContent","async","getDataOnRequest","urlApi","axios","get","data","renderBooks","books","markup","map","book_image","price","title","author","description","rank","_id","join","refs$3","insertAdjacentHTML","defaults","baseURL","seeNextBooks","classList","hideLoadMoreButton","add","windowWidth","window","innerWidth","showToast","message","type","iziToast","position","maxWidth","scrollUpBtn","addEventListener","scrollTrigger","innerHeight","scrollY","remove","scrollTo","top","behavior","accordion","Accordion","duration","showMultiple","modal","backdrop","input","modalBooksTextWrapper","bookPhotoWrapper","accordionDetails","handleModalBookClick","event","target","action","dataset","quantity","parseInt","value","cartData","productId","localStorage","setItem","JSON","stringify","removeItem","contains","updateQuantity","closest","handleEscKey","e","key","closeModal","refs$2","body","removeEventListener","handleInputOnlyNumbers","handleInputBlur","change","currentValue","newValue","Math","max","min","replace","accIcon","categoriesOfTopBooks","originalBooks","visibleBooks","page","totalPages","totalCards","loadedCards","booksCategories","setBooksPerPage","width","extractBooks","bookData","removeDuplicateBooks","flatMap","seenTitles","Set","uniqueBooks","filter","book","has","length","warning","paginateBooks","rawBooksData","ceil","start","end","slice","textContent","info","innerHTML","scrollByUp","allCards","querySelectorAll","rect","getBoundingClientRect","targetScrollY","height","prev","toggle","li","trim","params","axiosOptions","category","getBooksByCategory","btn","bookId","id","bookById","bookImage","imageData","modalBookText","fillDataModalBook","closeAll","error","console","categories","list_name","renderCategories","topBooksRaw","initPage","Swiper","direction","slidesPerView","spaceBetween","keyboard","enabled","onlyInViewport","navigation","nextEl","prevEl","pagination","el","clickable","a11y","slideRole","breakpoints","feedbacksData","text","avatar1x","avatar2x","rating","subscription","feedbackSwiper","attachOverlays","mqlTablet","matchMedia","mqlDesktop","forEach","card","wrapper","block","textEl","overlay","ovText","timer","isOpen","openOverlay","_a","autoplay","stop","allowTouchMove","setAttribute","style","display","fullText","idx","clone","cloneNode","Object","assign","visibility","left","webkitLineClamp","overflow","parentNode","appendChild","low","high","maxH","clientHeight","mid","scrollHeight","getTruncateIndex","measure","marker","createElement","className","cardRect","mRect","setProperty","visiblePart","hiddenPart","whiteSpace","wordBreak","i","step","setTimeout","totalDelay","closeOverlay","final","clearTimeout","onMobile","onTablet","onDesktop","relatedTarget","applyMode","matches","addListener","slide","renderFeedbackSlides","speed","delay","disableOnInteraction","disabledClass","prevSlideMessage","nextSlideMessage","Rater","element","parseFloat","readOnly","starSize","showToolTip","rightEls","observer","IntersectionObserver","entries","entry","isIntersecting","root","threshold","observe","form","validationMessage","copyYear","COPYRIGHT_START_YEAR","handleInputValidation","clearError","preventDefault","email","FormData","validity","valid","reset","warn","currentYear","Date","getFullYear","openBtn","closeBtn","mobileMenu","mobileNavLinks","desktopNavLinks","refs$1","link","hiddenEls","intersectionRatio","openFormModal","formBackdrop","closeBtnModal","formList","inputName","inputEmail","inputArea","submitBtnModal","titleEventSection","titleEventModal","closeEscape","closeBackdrop","openModal","eventCard","titleElement","titleText","transferEventTitle","currentTarget","formData","name","savedData","getItem","parsedData","parse","loadFromLocalStorage","formDataId","previousElementSibling","disabled","dataid","response","post","log","sendDataToBackEnd"],"mappings":"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"}