import{a as e,i as t,A as o,S as a,R as n}from"./assets/vendor-EE8R5gjl.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s={listOfCategories:document.querySelector(".js-categories-list"),booksPerPage:document.querySelector("js-books-per-page"),bookCard:document.querySelector(".js-books-list"),showMoreBtn:document.querySelector(".js-show-more-btn"),pageEl:document.querySelector(".js-books-per-page"),accBtn:document.querySelector(".js-accordion-btn"),accContent:document.querySelector(".js-accordion-content")};async function i(t){return(await e.get(t)).data}function r(e){const t=e.map(({book_image:e,price:t,title:o,author:a,description:n,rank:s,_id:i})=>`\n      <li class="book-card js-book-card">\n        <img\n          src='${e}'\n          alt="${o}"\n          class="book-card-image"\n        />\n        <div class="book-description">\n          <div class="book-details">\n            <div class="book-info">\n              <p class="book-title">${o}</p>\n              <p class="book-autor">${a}</p>\n            </div>\n            <p class="book-price">$${t}</p>\n          </div>\n          <button class="book-info-btn js-book-info-btn" data-id=${i} >Learn More</button>\n        </div>\n      </li>\n      `).join("");s.bookCard.insertAdjacentHTML("beforeend",t)}e.defaults.baseURL="https://books-backend.p.goit.global/";const l=s.showMoreBtn.classList,c=()=>l.add("is-hidden"),d=window.innerWidth;function p(e,o="error"){t[o]({message:e,position:d<768?"center":"topRight",maxWidth:d<432?300:400})}const u=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{const e=1.5*window.innerHeight;window.scrollY>e?u.classList.add("show"):u.classList.remove("show")}),u.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const m=document.querySelector(".loader");function v(){m.classList.add("hide-loader")}function h(){m.classList.remove("hide-loader")}const b=new o(".modal-books-accordion-container",{duration:400,showMultiple:!0}),g={modal:document.querySelector(".modal-books"),backdrop:document.querySelector(".modal-books-backdrop"),input:document.querySelector(".quantity-selector-quantity-input"),modalBooksTextWrapper:document.querySelector(".modal-books-text-wrapper"),bookPhotoWrapper:document.querySelector(".modal-book-photo-wrapper"),accordionDetails:document.querySelector(".js-ac-text-details"),addToCartBtn:document.querySelector('[data-action="add-to-cart"]')},y=e=>{const t=e.target,o=t.dataset.action;if("add-to-cart"===o){const e={productId:"Books",quantity:parseInt(g.input.value)||1};return localStorage.setItem("cart-item",JSON.stringify(e)),void w()}if("buy-now"===o)return p("Manager will contact you soon","success"),w(),void localStorage.removeItem("cart-item");t.classList.contains("quantity-selector-decrease")?k(-1):t.classList.contains("quantity-selector-increase")?k(1):t!==g.backdrop?t.closest(".modal-books-button")&&w():w()};g.backdrop.addEventListener("click",y);const f=e=>{"Escape"===e.key&&g.backdrop.classList.contains("show-modal")&&w()},w=()=>{g.backdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",f),g.backdrop.removeEventListener("click",y),g.input.removeEventListener("input",x),g.input.removeEventListener("blur",L)},k=e=>{const t=parseInt(g.input.value)||1,o=Math.max(1,Math.min(99,t+e));g.input.value=o,g.addToCartBtn.dataset.qty=o},x=e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")},L=e=>{const t=parseInt(e.target.value)||1,o=Math.max(1,Math.min(99,t));e.target.value=o,g.addToCartBtn.dataset.qty=o};const E=document.querySelector(".js-accordion-btn"),S=document.querySelector(".js-accordion-content"),j=s.accBtn.querySelector(".books-acc-icon"),_="books/top-books/";let q=[],C=[],M=1,B=null,T=10,W=null,D=null,A=null;function I(){const e=window.innerWidth;T=e<768?10:24}function N(e){return z(e.flatMap(({books:e})=>e))}function z(e){const o=new Set,a=e.filter(e=>!o.has(e.title)&&(o.add(e.title),!0));if(0!==a.length)return a;t.warning({message:"No books available to display.",position:"topRight"})}function $(e){c(),0===q.length&&(q=e,W=q.length,B=Math.ceil((q.length-T)/4)+1,B<1&&(B=1));let o=null,a=null;if(B>M?(1===M?(o=(M-1)*T,a=o+T):(o=D,a=o+4),C=q.slice(o,a)):(o=D,a=q.length,C=q.slice(o,a),q=[]),D+=C.length,s.pageEl.textContent=`Showing ${D} of ${W}`,0===q.length)return M>1&&t.info({message:"Sorry, you have viewed all the books in this category.",position:"topRight"}),P(),r(C),C=[],M=1,B=null,W=null,void(D=null);1===M&&(s.bookCard.innerHTML=""),D!=T&&P(),r(C),M++,l.remove("is-hidden")}function P(){const e=document.querySelectorAll(".js-book-card");if(0===e.length)return;const t=e[e.length-1].getBoundingClientRect(),o=t.top+t.height+window.scrollY;window.scrollTo({top:o,behavior:"smooth"})}c(),window.addEventListener("resize",()=>{const e=T;I(),T!==e&&q.length>0&&(M=1,C=[],D=null,$(q))});E.addEventListener("click",()=>{S.classList.toggle("open"),j.classList.toggle("rotate")}),document.addEventListener("click",e=>{!(S.contains(e.target)||E.contains(e.target))&&S.classList.contains("open")&&(S.classList.remove("open"),j.classList.remove("rotate"))}),s.showMoreBtn.addEventListener("click",()=>{$()}),s.listOfCategories.addEventListener("click",async t=>{const o=t.target.closest(".js-category-item");if(!o)return;let a=null;if(A=o.textContent.trim(),"All categories"===A){a=N(await i(_))}else{a=z(await async function(t,o){const a={params:{category:o}};return(await e.get(t,a)).data}("books/category/",A))}M=1,B=null,q=[],C=[],W=null,D=null,s.bookCard.innerHTML="",S.classList.remove("open"),j.classList.remove("rotate"),$(a)}),s.bookCard.addEventListener("click",async function(e){const t=e.target.closest(".js-book-info-btn");if(!t)return;const o=t.dataset.id;if(!o)return;const a=`books/${o}`;try{!function({book_image:e,title:t,description:o,price:a,author:n,_id:s}){const i=`\n    <img\n            src="${e||"https://placehold.co/309x466/png?text=No+image"}"\n            alt="${t||"Без назви"}" \n            class="modal-books-img"\n          />\n  `;g.bookPhotoWrapper.innerHTML=i;const r=`\n            <h2 class="modal-books-title">${t||"Без назви"}</h2>\n            <p class="modal-books-text">${n||"Невідомий автор"}</p>\n            <p class="modal-books-price">${a?a+"$":"Ціна не вказана"}</p>\n         `;g.modalBooksTextWrapper.innerHTML=r,g.accordionDetails.textContent=o||"No description",g.addToCartBtn.dataset.id=s,g.addToCartBtn.dataset.title=t,g.addToCartBtn.dataset.price=a}(await i(a)),g.input.value="1",g.addToCartBtn.dataset.qty="1",b.closeAll(),g.backdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),document.addEventListener("keydown",f),g.backdrop.addEventListener("click",y),g.input.addEventListener("input",x),g.input.addEventListener("blur",L)}catch(n){console.error("Ошибка загрузки книги по ID:",n.message)}}),async function(){try{!function(e){const t=e.map(({list_name:e})=>`\n      <li class="category-item js-category-item">\n        ${e}\n      </li>\n      `).join("");s.listOfCategories.insertAdjacentHTML("beforeend",t)}(await i("books/category-list/"));const e=await i(_);if(!e||!e.length)return void t.warning({message:"Sorry, there are currently no books in this category. Please contact us later.",position:"topRight"});const o=N(e);I(),$(o)}catch(e){console.error("Ошибка при инициализации страницы:",e.message)}}(),new a(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},a11y:{enabled:!0,slideRole:""},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}});const O=[{text:"Great selection, fast delivery, and beautifully packaged books.\nMy go-to store for weekend reads!",author:"Jane Doe",position:"Book Lover, Reader",avatar1x:"/development-hell-02/assets/jane_doe.KTMMVTiw.jpg",avatar2x:"/development-hell-02/assets/jane_doe@2x.D6IwvPzb.jpg",avatarWebp1x:"/development-hell-02/assets/jane_doe.Cf_E9WCs.webp",avatarWebp2x:"/development-hell-02/assets/jane_doe@2x.BJz5TJ6P.webp",rating:4.8,subscription:"gold"},{text:"This bookstore has become my absolute favorite! The rare editions section alone is worth the visit, and the staff always go above and beyond to recommend the perfect titles based on my interests.\nI love how they support local authors and host engaging events each month.",author:"John Smith",position:"Editor, BookMag",avatar1x:"/development-hell-02/assets/john_smith.D0_R_894.jpg",avatar2x:"/development-hell-02/assets/john_smith@2x.CbwQvUb1.jpg",avatarWebp1x:"/development-hell-02/assets/john_smith.e40y5w_8.webp",avatarWebp2x:"/development-hell-02/assets/john_smith@2x.DoDl2ssW.webp",rating:4.6,subscription:null},{text:"I was pleasantly surprised by the personalized touches in my last order—from the hand-written note tucked inside the package to the custom bookmark.\nThe whole experience felt crafted just for me, and I can can’t wait to shop again!",author:"Emily Johnson",position:"Author, Novelist",avatar1x:"/development-hell-02/assets/emily_johnson.B-YRyQU5.jpg",avatar2x:"/development-hell-02/assets/emily_johnson@2x.CirZshzq.jpg",avatarWebp1x:"/development-hell-02/assets/emily_johnson.CZAYS_RE.webp",avatarWebp2x:"/development-hell-02/assets/emily_johnson@2x.iruGiY1u.webp",rating:4.9,subscription:"gold"},{text:"As a literature professor, I’m endlessly impressed by the depth of their catalog.\nThey carry everything from contemporary bestsellers to obscure academic volumes, and their recommendation engine never fails to introduce me to new gems.",author:"Sofia Lee",position:"Literature Professor",avatar1x:"/development-hell-02/assets/sofia_lee.CX_hethO.jpg",avatar2x:"/development-hell-02/assets/sofia_lee@2x.Cgr7awEi.jpg",avatarWebp1x:"/development-hell-02/assets/sofia_lee.CB2DAimb.webp",avatarWebp2x:"/development-hell-02/assets/sofia_lee@2x.DclZmeJv.webp",rating:4.7,subscription:null},{text:"I’ve discovered so many hidden gems thanks to this store.\nThe reviews really help me find niche titles I wouldn’t have found anywhere else!",author:"Carlos Mendez",position:"Blogger",avatar1x:"/development-hell-02/assets/carlos_mendez.BSK00tr3.jpg",avatar2x:"/development-hell-02/assets/carlos_mendez@2x.DbLWKenR.jpg",avatarWebp1x:"/development-hell-02/assets/carlos_mendez.BxOGP8cl.webp",avatarWebp2x:"/development-hell-02/assets/carlos_mendez@2x.Bc6L5M-J.webp",rating:4.5,subscription:"silver"},{text:"As a parent, I appreciate the kid-friendly book sections.\nMy son can’t get enough of the colorful picture books and board books we order each month!",author:"Natalie Brooks",position:"Mother & Teacher",avatar1x:"/development-hell-02/assets/natalie_brooks.D_79rjIz.jpg",avatar2x:"/development-hell-02/assets/natalie_brooks@2x.D4AXXMhn.jpg",avatarWebp1x:"/development-hell-02/assets/natalie_brooks.a3lhKBrk.webp",avatarWebp2x:"/development-hell-02/assets/natalie_brooks@2x.DbLbZWxG.webp",rating:4.6,subscription:null},{text:"The curated collections are fantastic! I always find exactly what I’m looking for and discover new favorites.\nThe seasonal reading lists they publish are also a great way to branch out beyond my usual genres.",author:"David Nguyen",position:"Graphic Designer",avatar1x:"/development-hell-02/assets/david_nguyen.hOS68mGQ.jpg",avatar2x:"/development-hell-02/assets/david_nguyen@2x.CyEuSXY5.jpg",avatarWebp1x:"/development-hell-02/assets/david_nguyen.5D1Efzz1.webp",avatarWebp2x:"/development-hell-02/assets/david_nguyen@2x.D9uB9GD0.webp",rating:4.7,subscription:null},{text:"Fast shipping and top-notch service, with timely updates throughout delivery.\nI’ll definitely be back for more, especially during holiday sales!",author:"Aisha Patel",position:"Marketing Specialist",avatar1x:"/development-hell-02/assets/aisha_patel.BOQJ_tzB.jpg",avatar2x:"/development-hell-02/assets/aisha_patel@2x.D26z7UBM.jpg",avatarWebp1x:"/development-hell-02/assets/aisha_patel.N-LM_g7v.webp",avatarWebp2x:"/development-hell-02/assets/aisha_patel@2x.Bq1oF-Y-.webp",rating:4.8,subscription:"gold"},{text:"Their children’s book selection is unbeatable.\nMy daughter devours every story and can’t wait for the next delivery!",author:"Michael Thompson",position:"Pediatric Nurse",avatar1x:"/development-hell-02/assets/michael_thompson.BYZwjKIc.jpg",avatar2x:"/development-hell-02/assets/michael_thompson@2x.E4zL0xlX.jpg",avatarWebp1x:"/development-hell-02/assets/michael_thompson.D23euTXE.webp",avatarWebp2x:"/development-hell-02/assets/michael_thompson@2x.BHV6UgL5.webp",rating:4.5,subscription:"silver"},{text:"I attended one of their virtual author talks and it blew my mind.\nFelt like I was in the same room!\n\nThe way they bring readers and authors together is unmatched, and I ended up buying three books by the speaker before the session ended.",author:"Olivia Brown",position:"Reading Coach",avatar1x:"/development-hell-02/assets/olivia_brown.DcYMLNUg.jpg",avatar2x:"/development-hell-02/assets/olivia_brown@2x.DMGvt4dn.jpg",avatarWebp1x:"/development-hell-02/assets/olivia_brown.DI4ztxFh.webp",avatarWebp2x:"/development-hell-02/assets/olivia_brown@2x.v0V6mwPd.webp",rating:4.8,subscription:"silver"},{text:"Their themed boxes are the best gift idea.\nI’ve sent several to friends, and the feedback is always glowing!",author:"Liam Wilson",position:"Copywriter",avatar1x:"/development-hell-02/assets/liam_wilson.2y4uxuBx.jpg",avatar2x:"/development-hell-02/assets/liam_wilson@2x.C7MdFTz7.jpg",avatarWebp1x:"/development-hell-02/assets/liam_wilson.CMPoVCi8.webp",avatarWebp2x:"/development-hell-02/assets/liam_wilson@2x.jQj4SCBx.webp",rating:4.7,subscription:"gold"},{text:"I rely on their monthly picks to help my students engage with new material.",author:"Ava Martinez",position:"Illustrator",avatar1x:"/development-hell-02/assets/ava_martinez.DPlE-0Xn.jpg",avatar2x:"/development-hell-02/assets/ava_martinez@2x.DTXgbR8w.jpg",avatarWebp1x:"/development-hell-02/assets/ava_martinez.D5Nh1dof.webp",avatarWebp2x:"/development-hell-02/assets/ava_martinez@2x.CtcC43sF.webp",rating:4.9,subscription:"gold"},{text:"The mobile app is sleek and makes browsing easy.\nLove the personalized suggestions.\n\nPlus, the notification system is perfectly timed—not intrusive, but informative. I've discovered books I'd never think to read, and they quickly became favorites.",author:"Noah Garcia",position:"Freelance Editor",avatar1x:"/development-hell-02/assets/noah_garcia.CMKxLQzH.jpg",avatar2x:"/development-hell-02/assets/noah_garcia@2x.C-cfsGSs.jpg",avatarWebp1x:"/development-hell-02/assets/noah_garcia.DHapPGpP.webp",avatarWebp2x:"/development-hell-02/assets/noah_garcia@2x.kZEoWf4f.webp",rating:4.9,subscription:"silver"},{text:"Their return policy is hassle-free.",author:"Mia Lopez",position:"Bookstagrammer",avatar1x:"/development-hell-02/assets/mia_lopez.GLBy1d4V.jpg",avatar2x:"/development-hell-02/assets/mia_lopez@2x.CY833Cto.jpg",avatarWebp1x:"/development-hell-02/assets/mia_lopez.CSPswiS3.webp",avatarWebp2x:"/development-hell-02/assets/mia_lopez@2x.DcW8goMw.webp",rating:4.6,subscription:"gold"},{text:"So many gems! The hand-written thank-you notes in the packages make me feel like a VIP.",author:"Ethan Clark",position:"Tech Journalist",avatar1x:"/development-hell-02/assets/ethan_clark.CqKf20zF.jpg",avatar2x:"/development-hell-02/assets/ethan_clark@2x.D_uuS4Mm.jpg",avatarWebp1x:"/development-hell-02/assets/ethan_clark.DuuoihfA.webp",avatarWebp2x:"/development-hell-02/assets/ethan_clark@2x.DW1LrWOo.webp",rating:4.9,subscription:"gold"},{text:"They really understand niche genres.\nThe LGBTQ+ and sci-fi collections are top-tier.\n\nWhat impresses me most is how consistently they update their stock with emerging authors and international voices. Highly recommend for genre lovers!",author:"Isabella Rodriguez",position:"Publishing Assistant",avatar1x:"/development-hell-02/assets/isabella_rodriguez.B_c_hBkT.jpg",avatar2x:"/development-hell-02/assets/isabella_rodriguez@2x.bnMROtbn.jpg",avatarWebp1x:"/development-hell-02/assets/isabella_rodriguez.B8_T-0jn.webp",avatarWebp2x:"/development-hell-02/assets/isabella_rodriguez@2x.CimjQJS6.webp",rating:4.7,subscription:"silver"},{text:"Found everything I needed. Will shop again.",author:"James Lee",position:"Poetry Enthusiast",avatar1x:"/development-hell-02/assets/james_lee.B4-yoX7s.jpg",avatar2x:"/development-hell-02/assets/james_lee@2x.CV5KBXzd.jpg",avatarWebp1x:"/development-hell-02/assets/james_lee.ClyYdm-4.webp",avatarWebp2x:"/development-hell-02/assets/james_lee@2x.Bj-cdFIe.webp",rating:4.8,subscription:"silver"},{text:"A thoughtfully designed store with intuitive categories.\nIt's my go-to for weekend reads and personal growth.",author:"Sophia Walker",position:"Fullstack Developer",avatar1x:"/development-hell-02/assets/sophia_walker.DtZA1_qW.jpg",avatar2x:"/development-hell-02/assets/sophia_walker@2x.DJ5akXCc.jpg",avatarWebp1x:"/development-hell-02/assets/sophia_walker.DDj-1aeS.webp",avatarWebp2x:"/development-hell-02/assets/sophia_walker@2x.DiJXl20N.webp",rating:4.7,subscription:null},{text:"My bookshelf has never looked better.\nTheir seasonal collections are always inspiring.\nThey’re not just selling books—they’re building reading habits.",author:"Benjamin Scott",position:"Bookstore Owner",avatar1x:"/development-hell-02/assets/benjamin_scott.DMbYu8X0.jpg",avatar2x:"/development-hell-02/assets/benjamin_scott@2x.DMLsnlXZ.jpg",avatarWebp1x:"/development-hell-02/assets/benjamin_scott.o4pSgq1A.webp",avatarWebp2x:"/development-hell-02/assets/benjamin_scott@2x._aLITNHG.webp",rating:4.9,subscription:null},{text:"As a poetry lover, I appreciate the curated chapbooks they carry.",author:"Charlotte Young",position:"Student & Reviewer",avatar1x:"/development-hell-02/assets/charlotte_young.BP7uxcXW.jpg",avatar2x:"/development-hell-02/assets/charlotte_young@2x.RkVFBGMu.jpg",avatarWebp1x:"/development-hell-02/assets/charlotte_young.C6tUcoph.webp",avatarWebp2x:"/development-hell-02/assets/charlotte_young@2x.CeaZW40Q.webp",rating:4.5,subscription:null}];let H;function R(){let e=!1;const t=window.matchMedia("(min-width: 768px) and (max-width: 1439px)"),o=window.matchMedia("(min-width: 1440px)");document.querySelectorAll(".feedback-card").forEach(a=>{const n=a.querySelector(".feedback-text-wrapper"),s=n.querySelector(".feedback-text"),i=s.querySelector(".text-content"),r=a.querySelector(".feedback-overlay"),l=r.querySelector(".overlay-text");let c,d=!1;function p(){var t;e=!1,H&&(H.allowTouchMove=!0,H.allowSlideNext=!0,H.allowSlidePrev=!0),null==(t=null==H?void 0:H.autoplay)||t.start()}function u(){if(d)return;var t;d=!0,e=!0,null==(t=null==H?void 0:H.autoplay)||t.stop(),H&&(H.allowTouchMove=!1,H.allowSlideNext=!1,H.allowSlidePrev=!1),a.classList.add("gradient-overlay"),r.setAttribute("aria-hidden","false"),r.style.display="block";const o=i.textContent,n=function(e,t){const o=e.cloneNode();Object.assign(o.style,{visibility:"hidden",position:"absolute",top:"0",left:"0",height:"auto",webkitLineClamp:"unset",display:"block",overflow:"visible"}),e.parentNode.appendChild(o);let a=0,n=t.length;const s=e.clientHeight;for(;a<n;){const e=Math.ceil((a+n)/2);o.textContent=t.slice(0,e),o.scrollHeight<=s?a=e:n=e-1}return o.remove(),a}(s,o),p=s.cloneNode();Object.assign(p.style,{visibility:"hidden",position:"absolute",top:"0",left:"0",height:"auto",webkitLineClamp:"unset",display:"block",overflow:"visible"}),p.textContent=o.slice(0,n);const u=document.createElement("span");u.className="text-marker",p.appendChild(u),s.parentNode.appendChild(p);const m=a.getBoundingClientRect(),v=u.getBoundingClientRect();r.style.setProperty("--text-top",v.top-m.top+"px"),r.style.setProperty("--text-left",v.left-m.left+"px"),p.remove();const h=o.slice(0,n),b=o.slice(n);l.textContent=h,l.style.display="inline-block",l.style.whiteSpace="pre-wrap",l.style.wordBreak="break-word";let g=0;!function e(){g<b.length&&(l.textContent+=b[g++],c=setTimeout(e,25))}();const y=25*b.length+2e3;setTimeout(()=>{var t;H.allowTouchMove=!0,e||null==(t=H.autoplay)||t.start()},y)}function m(e=!1){clearTimeout(c),a.classList.remove("gradient-overlay"),r.setAttribute("aria-hidden","true"),r.style.display="none",p(),e&&(d=!1)}function v(){i.removeEventListener("click",h),i.removeEventListener("focusin",b),i.removeEventListener("blur",b),i.addEventListener("click",()=>{d?(p(),m(!0)):u()}),document.addEventListener("click",e=>{d&&!n.contains(e.target)&&(p(),m(!0))})}function h(){i.removeEventListener("click",v),i.removeEventListener("focusin",b),i.removeEventListener("blur",b),i.addEventListener("click",()=>{d?(p(),m(!0)):u()}),document.addEventListener("click",e=>{d&&!n.contains(e.target)&&(p(),m(!0))})}function b(){i.removeEventListener("click",v),i.removeEventListener("click",h),a.setAttribute("tabindex","0"),a.addEventListener("focusin",()=>{e=!0,u()}),a.addEventListener("focusout",t=>{a.contains(t.relatedTarget)||(e=!1,m(!0))}),a.addEventListener("mouseenter",()=>{e=!0,u()}),a.addEventListener("mouseleave",()=>{e=!1,m(!0)})}function g(){m(!0),o.matches?b():t.matches?h():v()}s.scrollHeight<=s.clientHeight?n.classList.add("full-text"):(t.addListener(g),o.addListener(g),g())})}document.addEventListener("DOMContentLoaded",()=>{!function(e){const t=document.querySelector(".swiper-feedback-wrapper");t.innerHTML="",e.forEach(({text:e,author:o,position:a,avatar1x:n,avatar2x:s,avatarWebp1x:i,avatarWebp2x:r,rating:l,subscription:c})=>{const d=document.createElement("li");d.className="swiper-slide feedback-card",d.innerHTML=`\n  <div class="feedback-text-wrapper">\n    <blockquote class="feedback-text">\n      <span class="text-content">${e}</span>\n    </blockquote>\n  </div>\n  <div class="feedback-overlay" aria-hidden="true">\n    <div class="overlay-text"></div>\n  </div>\n  <div class="feedback-meta">\n    <div class="feedback-rating" data-rating="${l}"></div>\n    ${c?`<div class="badge badge--${c}">\n             <svg class="icon-verified"><use xlink:href="#icon-verified"/></svg>\n             Verified\n           </div>`:'<div class="badge badge--unverified">Unverified</div>'}\n  </div>\n  <div class="feedback-author-wrapper">\n    <picture>\n      <source type="image/webp" srcset="${i} 1x, ${r} 2x">\n      <source type="image/jpeg" srcset="${n} 1x, ${s} 2x">\n      <img\n        src="${n}"\n        alt="${o}"\n        width="48" height="48"\n        loading="lazy"\n      />\n    </picture>\n    <div class="author-details">\n      <h3 class="author-name">${o}</h3>\n      <p>${a}</p>\n    </div>\n  </div>\n`,t.appendChild(d)})}(function(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}([...O])),H=new a(".feedbacks-slider",{slidesPerView:1,spaceBetween:24,speed:600,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},navigation:{prevEl:".button-nav.prev",nextEl:".button-nav.next",disabledClass:"button-nav--disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Previous feedback",nextSlideMessage:"Next feedback"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{paginationUpdate:()=>{document.querySelectorAll(".swiper-pagination-bullet").forEach(e=>e.removeAttribute("tabindex"))}}}),requestAnimationFrame(()=>{document.querySelectorAll(".swiper-pagination-bullet").forEach(e=>e.removeAttribute("tabindex"))}),document.querySelectorAll(".feedback-rating").forEach(e=>{new n({element:e,max:5,step:.1,rating:parseFloat(e.dataset.rating),readOnly:!0,starSize:14,showToolTip:!1})}),document.querySelectorAll(".feedback-card").forEach(e=>{e.addEventListener("mouseenter",()=>{var e;null==(e=null==H?void 0:H.autoplay)||e.stop()}),e.addEventListener("mouseleave",()=>{var e;null==(e=null==H?void 0:H.autoplay)||e.start()}),e.addEventListener("focusin",()=>{var e;null==(e=null==H?void 0:H.autoplay)||e.stop()}),e.addEventListener("focusout",()=>{var e;null==(e=null==H?void 0:H.autoplay)||e.start()})}),R()});const F=document.querySelector(".footer-join-form"),J=document.querySelector(".footer-form-validation"),Y=document.querySelector(".footer-email"),V=document.querySelector("#copy-year"),G=2025;function X(){K("* Required field")}function K(e){J.textContent=e,J.classList.remove("color-error"),Y.classList.remove("error")}F&&J&&Y?F.addEventListener("submit",function(e){e.preventDefault(),Y.addEventListener("input",X);const t=new FormData(F).get("footer-email").trim();if(!t||!Y.validity.valid)return o="Please enter a valid email address",J.textContent=o,J.classList.add("color-error"),void Y.classList.add("error");var o;K("* Required field"),p(`You have been registered as <b>${t}</b>. All information has been sent to your email.`,"success"),F.reset(),Y.removeEventListener("input",X)}):console.warn("Form or input elements not found.");const Q=(new Date).getFullYear();V.textContent=Q>G?`2025-${Q}`:G;const U={openBtn:document.querySelector(".mobile-menu-open-btn"),closeBtn:document.querySelector(".mobile-menu-close-btn"),mobileMenu:document.querySelector(".mobile-menu"),mobileNavLinks:document.querySelectorAll(".mobile-menu-page-link"),desktopNavLinks:document.querySelectorAll(".page-menu-link"),body:document.body,header:document.querySelector(".header"),sections:document.querySelectorAll("header, section")};function Z(e){if("#body"===e)return void window.scrollTo({top:0,behavior:"smooth"});const t=document.querySelector(e);if(!t)return;const o=U.header.offsetHeight,a=window.pageYOffset||document.documentElement.scrollTop,n=t.offsetTop,s=n-(n>a?0:o);window.scrollTo({top:s,behavior:"smooth"})}U.desktopNavLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();Z(e.getAttribute("href"))})}),U.mobileNavLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();Z(e.getAttribute("href")),U.mobileMenu.classList.remove("is-open"),U.body.classList.remove("modal-open")})}),U.openBtn.addEventListener("click",()=>{U.mobileMenu.classList.add("is-open"),U.body.classList.add("modal-open")}),U.closeBtn.addEventListener("click",()=>{U.mobileMenu.classList.remove("is-open"),U.body.classList.remove("modal-open")});let ee=0,te="down";window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;e<ee?(U.header.classList.remove("hidden"),te="up"):(U.header.classList.add("hidden"),te="down"),ee=e<=0?0:e}),window.addEventListener("scroll",()=>{let e="";const t=pageYOffset,o=window.innerHeight,a=U.header.offsetHeight,n="up"===te,s=document.querySelector("#books"),i=document.querySelector("#location"),r=s.offsetTop||0;i.offsetTop,i.offsetHeight;const l=n?a:0;t<r-l?e="body":(U.sections.forEach(o=>{const a=o.offsetTop,n=o.offsetHeight,s=o.getAttribute("id");s&&"header"!==s&&t+l>=a&&t+l<a+n&&(e=s)}),!e&&t+o>=document.documentElement.scrollHeight-10&&(e=i.getAttribute("id")||"")),U.desktopNavLinks.forEach(t=>{t.classList.toggle("active",t.getAttribute("href")===`#${e}`)})}),new a(".swiper-hero",{direction:"horizontal",keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-hero-slider-forward",prevEl:".js-hero-slider-prev"},autoplay:{delay:5e3,disableOnInteraction:!1},speed:1e3,spaceBetween:24});const oe=document.querySelectorAll(".location-hidden, .location-hidden-side"),ae=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;e.intersectionRatio>.5?(t.classList.contains("location-hidden")&&t.classList.add("location-show"),t.classList.contains("location-hidden-side")&&t.classList.add("location-show-side")):(t.classList.contains("location-hidden")&&t.classList.remove("location-show"),t.classList.contains("location-hidden-side")&&t.classList.remove("location-show-side"))})},{threshold:.5});oe.forEach(e=>ae.observe(e));const ne={openFormModal:document.querySelectorAll(".register-btn"),formBackdrop:document.querySelector("#modalContacts"),closeBtnModal:document.querySelector(".modal-form-close"),formList:document.querySelector(".form-box"),inputName:document.querySelector("[data-name]"),inputEmail:document.querySelector("[data-email]"),inputArea:document.querySelector("[data-area]"),submitBtnModal:document.querySelector(".form-btn-submit"),titleEventSection:document.querySelectorAll(".event-subhead"),titleEventModal:document.querySelector(".modal-form-subscription")},se=e=>{"Escape"===e.key&&le()},ie=e=>{e.target===ne.formBackdrop&&le()};function re(e){!function(e){const t=e.closest(".event-card"),o=t?t.querySelector(".event-subhead"):null;if(o){const e=o.textContent;ne.titleEventModal.textContent=e}}(e.currentTarget),ne.formBackdrop.classList.add("show-modal"),document.body.classList.add("modal-open"),ne.closeBtnModal.addEventListener("click",le),ne.formBackdrop.addEventListener("click",ie),document.addEventListener("keydown",se)}function le(){ne.formBackdrop.classList.remove("show-modal"),document.body.classList.remove("modal-open"),ne.closeBtnModal.removeEventListener("click",le),ne.formBackdrop.removeEventListener("click",ie),document.removeEventListener("keydown",se)}ne.openFormModal.forEach(e=>{e.addEventListener("click",re)}),ne.closeBtnModal.addEventListener("click",()=>{le()}),document.addEventListener("keydown",se),document.addEventListener("click",ie),ne.formList.addEventListener("input",function(){const e={name:ne.inputName.value.trim(),email:ne.inputEmail.value.trim(),message:ne.inputArea.value.trim()};localStorage.setItem("contactFormData",JSON.stringify(e))}),function(){const e=localStorage.getItem("contactFormData");if(e){const t=JSON.parse(e);ne.inputName.value=t.name||"",ne.inputEmail.value=t.email||"",ne.inputArea.value=t.message||""}}(),ne.formList.addEventListener("submit",async t=>{t.preventDefault();const o=t.currentTarget.previousElementSibling.textContent,a={name:ne.inputName.value.trim(),email:ne.inputEmail.value.trim(),message:ne.inputArea.value.trim()||"No message typed"};try{ne.submitBtnModal.disabled=!0,h(),await(async(t,o)=>{const{name:a,email:n,message:s}=t;try{await e.post("https://test-server-fortg.onrender.com/send-message",{dataid:o,name:a,email:n,message:s})}catch(i){throw console.error("Помилка при надсиланні:",i),i}})(a,o),localStorage.removeItem("contactFormData"),ne.formList.reset(),p("Thank you, our manager will contact you!","success")}catch(n){p("Something went wrong. Please try again later.")}finally{v(),le(),ne.submitBtnModal.disabled=!1}});const ce="cart-items",de=document.querySelector(".header-cart .button-secondary"),pe=document.querySelector(".cart-count"),ue=document.querySelector(".modal-cart-backdrop");document.querySelector(".modal-cart");const me=document.querySelector(".modal-cart-list"),ve=document.querySelector(".cart-total-sum"),he=document.querySelector(".modal-cart-order"),be=document.querySelector(".modal-cart-clear"),ge=document.querySelector(".modal-cart-close");function ye(){return JSON.parse(localStorage.getItem(ce))||[]}function fe(e){localStorage.setItem(ce,JSON.stringify(e))}function we(){const e=ye().reduce((e,t)=>e+t.qty,0);pe.textContent=e,pe.style.display=e>0?"inline-block":"none"}function ke(){const e=ye();me.innerHTML="";let t=0;0===e.length?me.innerHTML='<li style="text-align:center;">The cart is empty</li>':e.forEach(e=>{t+=e.price*e.qty;const o=document.createElement("li");o.className="modal-cart-item",o.innerHTML=`\n        <span class="modal-cart-item-title">${e.title}</span>\n        <span class="modal-cart-item-qty">  ${e.qty} ${e.qty>1?"items":"item"}</span>\n        <span class="modal-cart-item-price">${e.price} $</span>\n        <span><button class="modal-cart-item-remove" data-id="${e.id}" title="Remove">Remove</button></span>\n      `,me.appendChild(o)}),ve.textContent=t+" $"}function xe(){ue.classList.remove("show"),document.body.classList.remove("modal-open")}function Le(){fe([]),we(),ke()}de.addEventListener("click",function(){ue.classList.add("show"),document.body.classList.add("modal-open"),ke()}),ge.addEventListener("click",xe),ue.addEventListener("click",e=>{e.target===ue&&xe()}),me.addEventListener("click",e=>{e.target.classList.contains("modal-cart-item-remove")&&function(e){let t=ye();t=t.filter(t=>t.id!==e),fe(t),we(),ke()}(e.target.dataset.id)}),be.addEventListener("click",Le),he.addEventListener("click",async function(){try{he.disabled=!0;const t=ye();if(0===t.length)return void p("Cart is empty","info");h(),await(async t=>{try{await e.post("https://test-server-fortg.onrender.com/cart",t)}catch(o){throw console.error("Помилка при надсиланні:",o),o}})(t),p("Order is complete, thank you!","success"),Le(),ke()}catch(t){p("Something went wrong")}finally{v(),xe(),he.disabled=!1}}),document.addEventListener("keydown",e=>{"Escape"===e.key&&ue.classList.contains("show")&&xe()}),we(),window.addToCart=function({id:e,title:t,price:o,qty:a=1}){const n=ye(),s=n.findIndex(t=>t.id===e);s>-1?n[s].qty+=a:n.push({id:e,title:t,price:o,qty:a}),fe(n),we()},document.querySelectorAll(".modal-books-add").forEach(e=>{e.addEventListener("click",t=>{const{id:o,title:a,price:n,qty:s}=e.dataset;window.addToCart({id:o,title:a,price:Number(n),qty:Number(s)}),p(`"${a}" added to cart!`,"success")})});
//# sourceMappingURL=main.VGKaLgVX.js.map
